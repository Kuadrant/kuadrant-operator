apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  labels:
    app.kubernetes.io/managed-by: helm
  name: apikeys.devportal.kuadrant.io
spec:
  group: devportal.kuadrant.io
  names:
    kind: APIKey
    listKind: APIKeyList
    plural: apikeys
    shortNames:
    - apik
    singular: apikey
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.phase
      name: Phase
      type: string
    - jsonPath: .spec.apiProductRef.name
      name: API
      type: string
    - jsonPath: .spec.planTier
      name: Plan
      type: string
    - jsonPath: .spec.requestedBy.userId
      name: User
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: APIKey is the Schema for the apikeys API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: APIKeySpec defines the desired state of APIKey.
            properties:
              apiProductRef:
                description: Reference to the APIProduct this APIKey belongs to.
                properties:
                  name:
                    type: string
                required:
                - name
                type: object
              planTier:
                description: PlanTier is the tier of the plan (e.g., "premium", "basic",
                  "enterprise")
                type: string
              requestedBy:
                description: RequestedBy contains information about who requested
                  the API key
                properties:
                  email:
                    description: Email is the email address of the user
                    pattern: ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$
                    type: string
                  userId:
                    description: UserID is the identifier of the user requesting the
                      API key
                    type: string
                required:
                - email
                - userId
                type: object
              useCase:
                description: UseCase describes how the API key will be used
                type: string
            required:
            - apiProductRef
            - planTier
            - requestedBy
            - useCase
            type: object
          status:
            description: APIKeyStatus defines the observed state of APIKey.
            properties:
              apiHostname:
                description: APIHostname is the hostname from the HTTPRoute
                type: string
              canReadSecret:
                default: true
                description: CanReadSecret expresses the permission to read the APIKey's
                  secret
                type: boolean
              conditions:
                description: Conditions represent the latest available observations
                  of the APIKey's state
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              limits:
                description: Limits contains the rate limits for the plan
                properties:
                  custom:
                    description: Custom defines any additional limits defined in terms
                      of a RateLimitPolicy Rate.
                    items:
                      description: Rate defines the actual rate limit that will be
                        used when there is a match
                      properties:
                        limit:
                          description: Limit defines the max value allowed for a given
                            period of time
                          type: integer
                        window:
                          description: Window defines the time period for which the
                            Limit specified above applies.
                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                          type: string
                      required:
                      - limit
                      - window
                      type: object
                    type: array
                  daily:
                    description: Daily limit of requests for this plan.
                    type: integer
                  monthly:
                    description: Monthly limit of requests for this plan.
                    type: integer
                  weekly:
                    description: Weekly limit of requests for this plan.
                    type: integer
                  yearly:
                    description: Yearly limit of requests for this plan.
                    type: integer
                type: object
              phase:
                description: |-
                  Phase represents the current phase of the APIKey
                  Valid values are "Pending", "Approved", or "Rejected"
                enum:
                - Pending
                - Approved
                - Rejected
                type: string
              reviewedAt:
                description: ReviewedAt is the timestamp when the request was reviewed
                format: date-time
                type: string
              reviewedBy:
                description: ReviewedBy indicates who approved or rejected the request
                type: string
              secretRef:
                description: SecretRef is a reference to the created Secret
                properties:
                  key:
                    description: The key of the secret to select from.  Must be a
                      valid secret key.
                    type: string
                  name:
                    description: The name of the secret in the Authorino's namespace
                      to select from.
                    type: string
                required:
                - key
                - name
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  labels:
    app.kubernetes.io/managed-by: helm
  name: apiproducts.devportal.kuadrant.io
spec:
  group: devportal.kuadrant.io
  names:
    kind: APIProduct
    listKind: APIProductList
    plural: apiproducts
    singular: apiproduct
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: APIProduct Ready
      jsonPath: .status.conditions[?(@.type=="Ready")].status
      name: Ready
      priority: 2
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: APIProduct is the Schema for the apiproducts API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: APIProductSpec defines the desired state of APIProduct.
            properties:
              approvalMode:
                default: manual
                description: whether access requests are auto-approved or require
                  manual review
                enum:
                - automatic
                - manual
                type: string
              contact:
                description: contact information for api owners
                properties:
                  email:
                    description: contact email
                    type: string
                  slack:
                    description: 'slack channel (e.g. #api-support)'
                    type: string
                  team:
                    description: team name
                    type: string
                  url:
                    description: url to team page or support portal
                    type: string
                type: object
              description:
                description: detailed description of the api product
                type: string
              displayName:
                description: human-readable name for the api product
                type: string
              documentation:
                description: api documentation links
                properties:
                  docsURL:
                    description: URL to general documentation
                    type: string
                  gitRepository:
                    description: URL to git repository (shown as view source in backstage)
                    type: string
                  openAPISpecURL:
                    description: URL to openapi specification (json/yaml)
                    type: string
                  swaggerUI:
                    description: URL to swagger ui or similar interactive docs
                    type: string
                  techdocsRef:
                    description: techdocs reference (e.g. url:https://github.com/org/repo
                      or dir:. for local docs)
                    type: string
                type: object
              publishStatus:
                default: Draft
                description: controls whether the api product appears in the backstage
                  catalog (Draft = hidden, Published = visible)
                enum:
                - Draft
                - Published
                type: string
              tags:
                description: tags for categorisation and search
                items:
                  type: string
                type: array
              targetRef:
                description: reference to the httproute that this api product represents
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported value is 'HTTPRoute'
                  rule: self.kind == 'HTTPRoute'
              version:
                description: api version (e.g. v1, v2)
                type: string
            required:
            - approvalMode
            - displayName
            - publishStatus
            - targetRef
            type: object
          status:
            description: APIProductStatus defines the observed state of APIProduct.
            properties:
              conditions:
                description: Represents the observations of a foo's current state.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              discoveredPlans:
                description: list of planpolicies discovered from httproute
                items:
                  properties:
                    limits:
                      description: Limits contains the list of limits that the plan
                        enforces.
                      properties:
                        custom:
                          description: Custom defines any additional limits defined
                            in terms of a RateLimitPolicy Rate.
                          items:
                            description: Rate defines the actual rate limit that will
                              be used when there is a match
                            properties:
                              limit:
                                description: Limit defines the max value allowed for
                                  a given period of time
                                type: integer
                              window:
                                description: Window defines the time period for which
                                  the Limit specified above applies.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                            required:
                            - limit
                            - window
                            type: object
                          type: array
                        daily:
                          description: Daily limit of requests for this plan.
                          type: integer
                        monthly:
                          description: Monthly limit of requests for this plan.
                          type: integer
                        weekly:
                          description: Weekly limit of requests for this plan.
                          type: integer
                        yearly:
                          description: Yearly limit of requests for this plan.
                          type: integer
                      type: object
                    tier:
                      description: Tier this plan represents.
                      type: string
                  required:
                  - tier
                  type: object
                type: array
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
              openapi:
                description: OpenAPI specification fetched from the API and its sync
                  status
                properties:
                  lastSyncTime:
                    description: lastSyncTime is the last time the raw content was
                      updated.
                    format: date-time
                    type: string
                  raw:
                    description: raw content
                    type: string
                required:
                - lastSyncTime
                - raw
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    gateway.networking.k8s.io/policy: inherited
  name: authpolicies.kuadrant.io
spec:
  group: kuadrant.io
  names:
    kind: AuthPolicy
    listKind: AuthPolicyList
    plural: authpolicies
    singular: authpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: AuthPolicy Accepted
      jsonPath: .status.conditions[?(@.type=="Accepted")].status
      name: Accepted
      priority: 2
      type: string
    - description: AuthPolicy Enforced
      jsonPath: .status.conditions[?(@.type=="Enforced")].status
      name: Enforced
      priority: 2
      type: string
    - description: Kind of the object to which the policy applies
      jsonPath: .spec.targetRef.kind
      name: TargetKind
      priority: 2
      type: string
    - description: Name of the object to which the policy applies
      jsonPath: .spec.targetRef.name
      name: TargetName
      priority: 2
      type: string
    - description: 'Name of the section within the object to which the policy applies '
      jsonPath: .spec.targetRef.sectionName
      name: TargetSection
      priority: 2
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: AuthPolicy enables authentication and authorization for service
          workloads in a Gateway API network
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              defaults:
                description: |-
                  Rules to apply as defaults. Can be overridden by more specific policiy rules lower in the hierarchy and by less specific policy overrides.
                  Use one of: defaults, overrides, or bare set of policy rules (implicit defaults).
                properties:
                  patterns:
                    additionalProperties:
                      properties:
                        allOf:
                          items:
                            properties:
                              operator:
                                description: |-
                                  The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                  Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                enum:
                                - eq
                                - neq
                                - incl
                                - excl
                                - matches
                                type: string
                              selector:
                                description: |-
                                  Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  Authorino custom JSON path modifiers are also supported.
                                type: string
                              value:
                                description: |-
                                  The value of reference for the comparison with the content fetched from the authorization JSON.
                                  If used with the "matches" operator, the value must compile to a valid Golang regex.
                                type: string
                            type: object
                          type: array
                      required:
                      - allOf
                      type: object
                    description: Named sets of patterns that can be referred in `when`
                      conditions and in pattern-matching authorization policy rules.
                    type: object
                  rules:
                    description: |-
                      The auth rules of the policy.
                      See Authorino's AuthConfig CRD for more details.
                    properties:
                      authentication:
                        additionalProperties:
                          properties:
                            anonymous:
                              description: Anonymous access.
                              type: object
                            apiKey:
                              description: Authentication based on API keys stored
                                in Kubernetes secrets.
                              properties:
                                allNamespaces:
                                  default: false
                                  description: |-
                                    Whether Authorino should look for API key secrets in all namespaces or only in the same namespace as the AuthConfig.
                                    Enabling this option in namespaced Authorino instances has no effect.
                                  type: boolean
                                selector:
                                  description: Label selector used by Authorino to
                                    match secrets from the cluster storing valid credentials
                                    to authenticate to this service
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                              required:
                              - selector
                              type: object
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            credentials:
                              description: |-
                                Defines where credentials are required to be passed in the request for authentication based on this config.
                                If omitted, it defaults to credentials passed in the HTTP Authorization header and the "Bearer" prefix prepended to the secret credential value.
                              properties:
                                authorizationHeader:
                                  properties:
                                    prefix:
                                      type: string
                                  type: object
                                cookie:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                customHeader:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                queryString:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                              type: object
                            defaults:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: |-
                                Set default property values (claims) for the resolved identity object, that are set before appending the object to
                                the authorization JSON. If the property is already present in the resolved identity object, the default value is ignored.
                                It requires the resolved identity object to always be a JSON object.
                                Do not use this option with identity objects of other JSON types (array, string, etc).
                              type: object
                            jwt:
                              description: Authentication based on JWT tokens.
                              properties:
                                issuerUrl:
                                  description: |-
                                    URL of the OpenID Connect (OIDC) token issuer endpoint.
                                    Use it for automatically discovering the JWKS URL from an OpenID Connect Discovery endpoint (https://openid.net/specs/openid-connect-discovery-1_0.html).
                                    The Well-Known Discovery path (i.e. "/.well-known/openid-configuration") is appended to this URL to fetch the OIDC configuration.
                                    One of: jwksUrl, issuerUrl
                                  type: string
                                jwksUrl:
                                  description: |-
                                    URL of the JSON Web Key Set (JWKS) endpoint.
                                    Use it for non-OpenID Connect (OIDC) JWT authentication, where the JWKS URL is known beforehand.
                                    The JSON Web Keys (JWK) obtained from this endpoint are automatically cached and the caching updated whenever the kid of a JWT does not match any of the cached JWKs (https://openid.net/specs/openid-connect-core-1_0.html#RotateSigKeys).
                                    One of: jwksUrl, issuerUrl
                                  type: string
                                ttl:
                                  description: |-
                                    Decides how long the OIDC configuration will be cached.
                                    If omitted or set to zero, Authorino will never refresh the OIDC configuration.
                                    This configuration does not affect the caching of JSON Web Keys (JWK), which is always updated whenever the kid of a JWT does not match any of the cached JWKs (https://openid.net/specs/openid-connect-core-1_0.html#RotateSigKeys)
                                  type: integer
                              type: object
                              x-kubernetes-validations:
                              - message: 'Use one of: jwksUrl, issuerUrl'
                                rule: '!(has(self.jwksUrl) && self.jwksUrl != ''''
                                  && has(self.issuerUrl) && self.issuerUrl != '''')'
                            kubernetesTokenReview:
                              description: Authentication by Kubernetes token review.
                              properties:
                                audiences:
                                  description: |-
                                    The list of audiences (scopes) that must be claimed in a Kubernetes authentication token supplied in the request, and reviewed by Authorino.
                                    If omitted, Authorino will review tokens expecting the host name of the requested protected service amongst the audiences.
                                  items:
                                    type: string
                                  type: array
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            oauth2Introspection:
                              description: Authentication by OAuth2 token introspection.
                              properties:
                                credentialsRef:
                                  description: Reference to a Kubernetes secret in
                                    the same namespace, that stores client credentials
                                    to the OAuth2 server.
                                  properties:
                                    name:
                                      default: ""
                                      description: |-
                                        Name of the referent.
                                        This field is effectively required, but due to backwards compatibility is
                                        allowed to be empty. Instances of this type with an empty value here are
                                        almost certainly wrong.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                endpoint:
                                  description: The full URL of the token introspection
                                    endpoint.
                                  type: string
                                tokenTypeHint:
                                  description: |-
                                    The token type hint for the token introspection.
                                    If omitted, it defaults to "access_token".
                                  type: string
                              required:
                              - credentialsRef
                              - endpoint
                              type: object
                            overrides:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: |-
                                Overrides the resolved identity object by setting the additional properties (claims) specified in this config,
                                before appending the object to the authorization JSON.
                                It requires the resolved identity object to always be a JSON object.
                                Do not use this option with identity objects of other JSON types (array, string, etc).
                              type: object
                            plain:
                              description: |-
                                Identity object extracted from the context.
                                Use this method when authentication is performed beforehand by a proxy and the resulting object passed to Authorino as JSON in the auth request.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value that represents an identity.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                              type: object
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                            x509:
                              description: |-
                                Authentication based on client X.509 certificates.
                                The certificates presented by the clients must be signed by a trusted CA whose certificates are stored in Kubernetes secrets.
                              properties:
                                allNamespaces:
                                  default: false
                                  description: |-
                                    Whether Authorino should look for TLS secrets in all namespaces or only in the same namespace as the AuthConfig.
                                    Enabling this option in namespaced Authorino instances has no effect.
                                  type: boolean
                                selector:
                                  description: |-
                                    Label selector used by Authorino to match secrets from the cluster storing trusted CA certificates to validate
                                    clients trying to authenticate to this service
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                              required:
                              - selector
                              type: object
                          type: object
                        description: |-
                          Authentication configs.
                          At least one config MUST evaluate to a valid identity object for the auth request to be successful.
                        type: object
                      authorization:
                        additionalProperties:
                          properties:
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            kubernetesSubjectAccessReview:
                              description: Authorization by Kubernetes SubjectAccessReview
                              properties:
                                authorizationGroups:
                                  description: Groups to check for existing permission
                                    in the Kubernetes RBAC alternatively to a specific
                                    user. This is typically obtained from a list of
                                    groups the user is a member of. Must be a static
                                    list of group names or dynamically resolve to
                                    one from the Authorization JSON.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                groups:
                                  description: |-
                                    Groups the user must be a member of or, if `user` is omitted, the groups to check for authorization in the Kubernetes RBAC.
                                    Deprecated: Use authorizationGroups instead.
                                  items:
                                    type: string
                                  type: array
                                resourceAttributes:
                                  description: |-
                                    Use resourceAttributes to check permissions on Kubernetes resources.
                                    If omitted, it performs a non-resource SubjectAccessReview, with verb and path inferred from the request.
                                  properties:
                                    group:
                                      description: |-
                                        API group of the resource.
                                        Use '*' for all API groups.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    name:
                                      description: |-
                                        Resource name
                                        Omit it to check for authorization on all resources of the specified kind.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    namespace:
                                      description: Namespace where the user must have
                                        permissions on the resource.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    resource:
                                      description: |-
                                        Resource kind
                                        Use '*' for all resource kinds.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    subresource:
                                      description: Subresource kind
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    verb:
                                      description: |-
                                        Verb to check for authorization on the resource.
                                        Use '*' for all verbs.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                  type: object
                                user:
                                  description: |-
                                    User to check for authorization in the Kubernetes RBAC.
                                    Omit it to check for group authorization only.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            opa:
                              description: Open Policy Agent (OPA) Rego policy.
                              properties:
                                allValues:
                                  default: false
                                  description: |-
                                    Returns the value of all Rego rules in the virtual document. Values can be read in subsequent evaluators/phases of the Auth Pipeline.
                                    Otherwise, only the default `allow` rule will be exposed.
                                    Returning all Rego rules can affect performance of OPA policies during reconciliation (policy precompile) and at runtime.
                                  type: boolean
                                externalPolicy:
                                  description: |-
                                    Settings for fetching the OPA policy from an external registry.
                                    Use it alternatively to 'rego'.
                                    For the configurations of the HTTP request, the following options are not implemented: 'method', 'body', 'bodyParameters',
                                    'contentType', 'headers', 'oauth2'. Use it only with: 'url', 'sharedSecret', 'credentials'.
                                  properties:
                                    body:
                                      description: |-
                                        Raw body of the HTTP request.
                                        Supersedes 'bodyParameters'; use either one or the other.
                                        Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    bodyParameters:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      description: |-
                                        Custom parameters to encode in the body of the HTTP request.
                                        Superseded by 'body'; use either one or the other.
                                        Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                      type: object
                                    contentType:
                                      default: application/x-www-form-urlencoded
                                      description: |-
                                        Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                        Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                                      enum:
                                      - application/x-www-form-urlencoded
                                      - application/json
                                      type: string
                                    credentials:
                                      description: |-
                                        Defines where client credentials will be passed in the request to the service.
                                        If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                                      properties:
                                        authorizationHeader:
                                          properties:
                                            prefix:
                                              type: string
                                          type: object
                                        cookie:
                                          properties:
                                            name:
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        customHeader:
                                          properties:
                                            name:
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        queryString:
                                          properties:
                                            name:
                                              type: string
                                          required:
                                          - name
                                          type: object
                                      type: object
                                    headers:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      description: Custom headers in the HTTP request.
                                      type: object
                                    method:
                                      default: GET
                                      description: |-
                                        HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                        When the request method is POST, the authorization JSON is passed in the body of the request.
                                      enum:
                                      - GET
                                      - POST
                                      - PUT
                                      - PATCH
                                      - DELETE
                                      - HEAD
                                      - OPTIONS
                                      - CONNECT
                                      - TRACE
                                      type: string
                                    oauth2:
                                      description: Authentication with the HTTP service
                                        by OAuth2 Client Credentials grant.
                                      properties:
                                        cache:
                                          default: true
                                          description: |-
                                            Caches and reuses the token until expired.
                                            Set it to false to force fetch the token at every authorization request regardless of expiration.
                                          type: boolean
                                        clientId:
                                          description: OAuth2 Client ID.
                                          type: string
                                        clientSecretRef:
                                          description: Reference to a Kuberentes Secret
                                            key that stores that OAuth2 Client Secret.
                                          properties:
                                            key:
                                              description: The key of the secret to
                                                select from.  Must be a valid secret
                                                key.
                                              type: string
                                            name:
                                              description: The name of the secret
                                                in the Authorino's namespace to select
                                                from.
                                              type: string
                                          required:
                                          - key
                                          - name
                                          type: object
                                        extraParams:
                                          additionalProperties:
                                            type: string
                                          description: Optional extra parameters for
                                            the requests to the token URL.
                                          type: object
                                        scopes:
                                          description: Optional scopes for the client
                                            credentials grant, if supported by he
                                            OAuth2 server.
                                          items:
                                            type: string
                                          type: array
                                        tokenUrl:
                                          description: Token endpoint URL of the OAuth2
                                            resource server.
                                          type: string
                                      required:
                                      - clientId
                                      - clientSecretRef
                                      - tokenUrl
                                      type: object
                                    sharedSecretRef:
                                      description: |-
                                        Reference to a Secret key whose value will be passed by Authorino in the request.
                                        The HTTP service can use the shared secret to authenticate the origin of the request.
                                        Ignored if used together with oauth2.
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: The name of the secret in the
                                            Authorino's namespace to select from.
                                          type: string
                                      required:
                                      - key
                                      - name
                                      type: object
                                    ttl:
                                      description: Duration (in seconds) of the external
                                        data in the cache before pulled again from
                                        the source.
                                      type: integer
                                    url:
                                      description: |-
                                        Endpoint URL of the HTTP service.
                                        The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                        by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                        E.g. https://ext-auth-server.io/metadata?p={request.path}
                                      type: string
                                    urlExpression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                  type: object
                                rego:
                                  description: |-
                                    Authorization policy as a Rego language document.
                                    The Rego document must include the "allow" condition, set by Authorino to "false" by default (i.e. requests are unauthorized unless changed).
                                    The Rego document must NOT include the "package" declaration in line 1.
                                  type: string
                              type: object
                            patternMatching:
                              description: Pattern-matching authorization rules.
                              properties:
                                patterns:
                                  items:
                                    properties:
                                      all:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical AND.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      any:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical OR.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      operator:
                                        description: |-
                                          The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                          Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                        enum:
                                        - eq
                                        - neq
                                        - incl
                                        - excl
                                        - matches
                                        type: string
                                      patternRef:
                                        description: Reference to a named set of pattern
                                          expressions
                                        type: string
                                      predicate:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a boolean.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          Authorino custom JSON path modifiers are also supported.
                                        type: string
                                      value:
                                        description: |-
                                          The value of reference for the comparison with the content fetched from the authorization JSON.
                                          If used with the "matches" operator, the value must compile to a valid Golang regex.
                                        type: string
                                    type: object
                                  type: array
                              required:
                              - patterns
                              type: object
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            spicedb:
                              description: Authorization decision delegated to external
                                Authzed/SpiceDB server.
                              properties:
                                endpoint:
                                  description: Hostname and port number to the GRPC
                                    interface of the SpiceDB server (e.g. spicedb:50051).
                                  type: string
                                insecure:
                                  description: Insecure HTTP connection (i.e. disables
                                    TLS verification)
                                  type: boolean
                                permission:
                                  description: The name of the permission (or relation)
                                    on which to execute the check.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                resource:
                                  description: The resource on which to check the
                                    permission or relation.
                                  properties:
                                    kind:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    name:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                  type: object
                                sharedSecretRef:
                                  description: Reference to a Secret key whose value
                                    will be used by Authorino to authenticate with
                                    the Authzed service.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                subject:
                                  description: The subject that will be checked for
                                    the permission or relation.
                                  properties:
                                    kind:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    name:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                  type: object
                              required:
                              - endpoint
                              type: object
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                          type: object
                        description: |-
                          Authorization policies.
                          All policies MUST evaluate to "allowed = true" for the auth request be successful.
                        type: object
                      callbacks:
                        additionalProperties:
                          properties:
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            http:
                              description: Settings of the external HTTP request
                              properties:
                                body:
                                  description: |-
                                    Raw body of the HTTP request.
                                    Supersedes 'bodyParameters'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                bodyParameters:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: |-
                                    Custom parameters to encode in the body of the HTTP request.
                                    Superseded by 'body'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  type: object
                                contentType:
                                  default: application/x-www-form-urlencoded
                                  description: |-
                                    Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                    Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                                  enum:
                                  - application/x-www-form-urlencoded
                                  - application/json
                                  type: string
                                credentials:
                                  description: |-
                                    Defines where client credentials will be passed in the request to the service.
                                    If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                                  properties:
                                    authorizationHeader:
                                      properties:
                                        prefix:
                                          type: string
                                      type: object
                                    cookie:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    customHeader:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    queryString:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                  type: object
                                headers:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: Custom headers in the HTTP request.
                                  type: object
                                method:
                                  default: GET
                                  description: |-
                                    HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                    When the request method is POST, the authorization JSON is passed in the body of the request.
                                  enum:
                                  - GET
                                  - POST
                                  - PUT
                                  - PATCH
                                  - DELETE
                                  - HEAD
                                  - OPTIONS
                                  - CONNECT
                                  - TRACE
                                  type: string
                                oauth2:
                                  description: Authentication with the HTTP service
                                    by OAuth2 Client Credentials grant.
                                  properties:
                                    cache:
                                      default: true
                                      description: |-
                                        Caches and reuses the token until expired.
                                        Set it to false to force fetch the token at every authorization request regardless of expiration.
                                      type: boolean
                                    clientId:
                                      description: OAuth2 Client ID.
                                      type: string
                                    clientSecretRef:
                                      description: Reference to a Kuberentes Secret
                                        key that stores that OAuth2 Client Secret.
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: The name of the secret in the
                                            Authorino's namespace to select from.
                                          type: string
                                      required:
                                      - key
                                      - name
                                      type: object
                                    extraParams:
                                      additionalProperties:
                                        type: string
                                      description: Optional extra parameters for the
                                        requests to the token URL.
                                      type: object
                                    scopes:
                                      description: Optional scopes for the client
                                        credentials grant, if supported by he OAuth2
                                        server.
                                      items:
                                        type: string
                                      type: array
                                    tokenUrl:
                                      description: Token endpoint URL of the OAuth2
                                        resource server.
                                      type: string
                                  required:
                                  - clientId
                                  - clientSecretRef
                                  - tokenUrl
                                  type: object
                                sharedSecretRef:
                                  description: |-
                                    Reference to a Secret key whose value will be passed by Authorino in the request.
                                    The HTTP service can use the shared secret to authenticate the origin of the request.
                                    Ignored if used together with oauth2.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                url:
                                  description: |-
                                    Endpoint URL of the HTTP service.
                                    The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                    by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                    E.g. https://ext-auth-server.io/metadata?p={request.path}
                                  type: string
                                urlExpression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                          required:
                          - http
                          type: object
                        description: |-
                          Callback functions.
                          Authorino sends callbacks at the end of the auth pipeline to the endpoints specified in this config.
                        type: object
                      metadata:
                        additionalProperties:
                          properties:
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            http:
                              description: External source of auth metadata via HTTP
                                request
                              properties:
                                body:
                                  description: |-
                                    Raw body of the HTTP request.
                                    Supersedes 'bodyParameters'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                bodyParameters:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: |-
                                    Custom parameters to encode in the body of the HTTP request.
                                    Superseded by 'body'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  type: object
                                contentType:
                                  default: application/x-www-form-urlencoded
                                  description: |-
                                    Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                    Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                                  enum:
                                  - application/x-www-form-urlencoded
                                  - application/json
                                  type: string
                                credentials:
                                  description: |-
                                    Defines where client credentials will be passed in the request to the service.
                                    If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                                  properties:
                                    authorizationHeader:
                                      properties:
                                        prefix:
                                          type: string
                                      type: object
                                    cookie:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    customHeader:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    queryString:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                  type: object
                                headers:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: Custom headers in the HTTP request.
                                  type: object
                                method:
                                  default: GET
                                  description: |-
                                    HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                    When the request method is POST, the authorization JSON is passed in the body of the request.
                                  enum:
                                  - GET
                                  - POST
                                  - PUT
                                  - PATCH
                                  - DELETE
                                  - HEAD
                                  - OPTIONS
                                  - CONNECT
                                  - TRACE
                                  type: string
                                oauth2:
                                  description: Authentication with the HTTP service
                                    by OAuth2 Client Credentials grant.
                                  properties:
                                    cache:
                                      default: true
                                      description: |-
                                        Caches and reuses the token until expired.
                                        Set it to false to force fetch the token at every authorization request regardless of expiration.
                                      type: boolean
                                    clientId:
                                      description: OAuth2 Client ID.
                                      type: string
                                    clientSecretRef:
                                      description: Reference to a Kuberentes Secret
                                        key that stores that OAuth2 Client Secret.
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: The name of the secret in the
                                            Authorino's namespace to select from.
                                          type: string
                                      required:
                                      - key
                                      - name
                                      type: object
                                    extraParams:
                                      additionalProperties:
                                        type: string
                                      description: Optional extra parameters for the
                                        requests to the token URL.
                                      type: object
                                    scopes:
                                      description: Optional scopes for the client
                                        credentials grant, if supported by he OAuth2
                                        server.
                                      items:
                                        type: string
                                      type: array
                                    tokenUrl:
                                      description: Token endpoint URL of the OAuth2
                                        resource server.
                                      type: string
                                  required:
                                  - clientId
                                  - clientSecretRef
                                  - tokenUrl
                                  type: object
                                sharedSecretRef:
                                  description: |-
                                    Reference to a Secret key whose value will be passed by Authorino in the request.
                                    The HTTP service can use the shared secret to authenticate the origin of the request.
                                    Ignored if used together with oauth2.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                url:
                                  description: |-
                                    Endpoint URL of the HTTP service.
                                    The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                    by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                    E.g. https://ext-auth-server.io/metadata?p={request.path}
                                  type: string
                                urlExpression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            uma:
                              description: User-Managed Access (UMA) source of resource
                                data.
                              properties:
                                credentialsRef:
                                  description: Reference to a Kubernetes secret in
                                    the same namespace, that stores client credentials
                                    to the resource registration API of the UMA server.
                                  properties:
                                    name:
                                      default: ""
                                      description: |-
                                        Name of the referent.
                                        This field is effectively required, but due to backwards compatibility is
                                        allowed to be empty. Instances of this type with an empty value here are
                                        almost certainly wrong.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                endpoint:
                                  description: |-
                                    The endpoint of the UMA server.
                                    The value must coincide with the "issuer" claim of the UMA config discovered from the well-known uma configuration endpoint.
                                  type: string
                              required:
                              - credentialsRef
                              - endpoint
                              type: object
                            userInfo:
                              description: OpendID Connect UserInfo linked to an OIDC
                                authentication config specified in this same AuthConfig.
                              properties:
                                identitySource:
                                  description: |-
                                    Name of an OIDC JWT authentication rule whose obtained configuration includes an "userinfo_endpoint" claim.
                                    One of: identitySource, userInfoUrl
                                  type: string
                                userInfoUrl:
                                  description: |-
                                    The URL of the UserInfo endpoint.
                                    Use it for non-OIDC JWT authentication, where the UserInfo URL is known beforehand.
                                    One of: identitySource, userInfoUrl
                                  type: string
                              type: object
                              x-kubernetes-validations:
                              - message: 'Use one of: identitySource, userInfoUrl'
                                rule: '!(has(self.identitySource) && self.identitySource
                                  != '''' && has(self.userInfoUrl) && self.userInfoUrl
                                  != '''')'
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                          type: object
                        description: |-
                          Metadata sources.
                          Authorino fetches auth metadata as JSON from sources specified in this config.
                        type: object
                      response:
                        description: |-
                          Response items.
                          Authorino builds custom responses to the client of the auth request.
                        properties:
                          success:
                            description: |-
                              Response items to be included in the auth response when the request is authenticated and authorized.
                              For integration of Authorino via proxy, the proxy must use these settings to propagate dynamic metadata and/or inject data in the request.
                            properties:
                              filters:
                                additionalProperties:
                                  properties:
                                    cache:
                                      description: |-
                                        Caching options for the resolved object returned when applying this config.
                                        Omit it to avoid caching objects for this config.
                                      properties:
                                        key:
                                          description: |-
                                            Key used to store the entry in the cache.
                                            The resolved key must be unique within the scope of this particular config.
                                          properties:
                                            expression:
                                              description: |-
                                                A Common Expression Language (CEL) expression that evaluates to a value.
                                                String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                              type: string
                                            selector:
                                              description: |-
                                                Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                              type: string
                                            value:
                                              description: Static value
                                              x-kubernetes-preserve-unknown-fields: true
                                          type: object
                                        ttl:
                                          default: 60
                                          description: Duration (in seconds) of the
                                            external data in the cache before pulled
                                            again from the source.
                                          type: integer
                                      required:
                                      - key
                                      type: object
                                    json:
                                      description: |-
                                        JSON object
                                        Specify it as the list of properties of the object, whose values can combine static values and values selected from the authorization JSON.
                                      properties:
                                        properties:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          type: object
                                      required:
                                      - properties
                                      type: object
                                    key:
                                      description: |-
                                        The key used to add the custom response item (name of the HTTP header or root property of the Dynamic Metadata object).
                                        If omitted, it will be set to the name of the response config.
                                      type: string
                                    metrics:
                                      default: false
                                      description: Whether this config should generate
                                        individual observability metrics
                                      type: boolean
                                    plain:
                                      description: Plain text content
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    priority:
                                      default: 0
                                      description: |-
                                        Priority group of the config.
                                        All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                                      type: integer
                                    when:
                                      description: |-
                                        Conditions for Authorino to enforce this config.
                                        If omitted, the config will be enforced for all requests.
                                        If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                                      items:
                                        properties:
                                          all:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical AND.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          any:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical OR.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          operator:
                                            description: |-
                                              The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                              Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                            enum:
                                            - eq
                                            - neq
                                            - incl
                                            - excl
                                            - matches
                                            type: string
                                          patternRef:
                                            description: Reference to a named set
                                              of pattern expressions
                                            type: string
                                          predicate:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a boolean.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              Authorino custom JSON path modifiers are also supported.
                                            type: string
                                          value:
                                            description: |-
                                              The value of reference for the comparison with the content fetched from the authorization JSON.
                                              If used with the "matches" operator, the value must compile to a valid Golang regex.
                                            type: string
                                        type: object
                                      type: array
                                    wristband:
                                      description: Authorino Festival Wristband token
                                      properties:
                                        customClaims:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          description: Any claims to be added to the
                                            wristband token apart from the standard
                                            JWT claims (iss, iat, exp) added by default.
                                          type: object
                                        issuer:
                                          description: 'The endpoint to the Authorino
                                            service that issues the wristband (format:
                                            <scheme>://<host>:<port>/<realm>, where
                                            <realm> = <namespace>/<authorino-auth-config-resource-name/wristband-config-name)'
                                          type: string
                                        signingKeyRefs:
                                          description: |-
                                            Reference by name to Kubernetes secrets and corresponding signing algorithms.
                                            The secrets must contain a `key.pem` entry whose value is the signing key formatted as PEM.
                                          items:
                                            properties:
                                              algorithm:
                                                description: Algorithm to sign the
                                                  wristband token using the signing
                                                  key provided
                                                enum:
                                                - ES256
                                                - ES384
                                                - ES512
                                                - RS256
                                                - RS384
                                                - RS512
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the signing key.
                                                  The value is used to reference the Kubernetes secret that stores the key and in the `kid` claim of the wristband token header.
                                                type: string
                                            required:
                                            - algorithm
                                            - name
                                            type: object
                                          type: array
                                        tokenDuration:
                                          description: Time span of the wristband
                                            token, in seconds.
                                          format: int64
                                          type: integer
                                      required:
                                      - issuer
                                      - signingKeyRefs
                                      type: object
                                  type: object
                                description: Custom data made available to other filters
                                  managed by Kuadrant (i.e. Rate Limit)
                                type: object
                              headers:
                                additionalProperties:
                                  properties:
                                    cache:
                                      description: |-
                                        Caching options for the resolved object returned when applying this config.
                                        Omit it to avoid caching objects for this config.
                                      properties:
                                        key:
                                          description: |-
                                            Key used to store the entry in the cache.
                                            The resolved key must be unique within the scope of this particular config.
                                          properties:
                                            expression:
                                              description: |-
                                                A Common Expression Language (CEL) expression that evaluates to a value.
                                                String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                              type: string
                                            selector:
                                              description: |-
                                                Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                              type: string
                                            value:
                                              description: Static value
                                              x-kubernetes-preserve-unknown-fields: true
                                          type: object
                                        ttl:
                                          default: 60
                                          description: Duration (in seconds) of the
                                            external data in the cache before pulled
                                            again from the source.
                                          type: integer
                                      required:
                                      - key
                                      type: object
                                    json:
                                      description: |-
                                        JSON object
                                        Specify it as the list of properties of the object, whose values can combine static values and values selected from the authorization JSON.
                                      properties:
                                        properties:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          type: object
                                      required:
                                      - properties
                                      type: object
                                    key:
                                      description: |-
                                        The key used to add the custom response item (name of the HTTP header or root property of the Dynamic Metadata object).
                                        If omitted, it will be set to the name of the response config.
                                      type: string
                                    metrics:
                                      default: false
                                      description: Whether this config should generate
                                        individual observability metrics
                                      type: boolean
                                    plain:
                                      description: Plain text content
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    priority:
                                      default: 0
                                      description: |-
                                        Priority group of the config.
                                        All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                                      type: integer
                                    when:
                                      description: |-
                                        Conditions for Authorino to enforce this config.
                                        If omitted, the config will be enforced for all requests.
                                        If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                                      items:
                                        properties:
                                          all:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical AND.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          any:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical OR.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          operator:
                                            description: |-
                                              The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                              Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                            enum:
                                            - eq
                                            - neq
                                            - incl
                                            - excl
                                            - matches
                                            type: string
                                          patternRef:
                                            description: Reference to a named set
                                              of pattern expressions
                                            type: string
                                          predicate:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a boolean.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              Authorino custom JSON path modifiers are also supported.
                                            type: string
                                          value:
                                            description: |-
                                              The value of reference for the comparison with the content fetched from the authorization JSON.
                                              If used with the "matches" operator, the value must compile to a valid Golang regex.
                                            type: string
                                        type: object
                                      type: array
                                    wristband:
                                      description: Authorino Festival Wristband token
                                      properties:
                                        customClaims:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          description: Any claims to be added to the
                                            wristband token apart from the standard
                                            JWT claims (iss, iat, exp) added by default.
                                          type: object
                                        issuer:
                                          description: 'The endpoint to the Authorino
                                            service that issues the wristband (format:
                                            <scheme>://<host>:<port>/<realm>, where
                                            <realm> = <namespace>/<authorino-auth-config-resource-name/wristband-config-name)'
                                          type: string
                                        signingKeyRefs:
                                          description: |-
                                            Reference by name to Kubernetes secrets and corresponding signing algorithms.
                                            The secrets must contain a `key.pem` entry whose value is the signing key formatted as PEM.
                                          items:
                                            properties:
                                              algorithm:
                                                description: Algorithm to sign the
                                                  wristband token using the signing
                                                  key provided
                                                enum:
                                                - ES256
                                                - ES384
                                                - ES512
                                                - RS256
                                                - RS384
                                                - RS512
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the signing key.
                                                  The value is used to reference the Kubernetes secret that stores the key and in the `kid` claim of the wristband token header.
                                                type: string
                                            required:
                                            - algorithm
                                            - name
                                            type: object
                                          type: array
                                        tokenDuration:
                                          description: Time span of the wristband
                                            token, in seconds.
                                          format: int64
                                          type: integer
                                      required:
                                      - issuer
                                      - signingKeyRefs
                                      type: object
                                  type: object
                                description: Custom headers to inject in the request.
                                type: object
                            type: object
                          unauthenticated:
                            description: |-
                              Customizations on the denial status attributes when the request is unauthenticated.
                              For integration of Authorino via proxy, the proxy must honour the response status attributes specified in this config.
                              Default: 401 Unauthorized
                            properties:
                              body:
                                description: HTTP response body to override the default
                                  denial body.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              code:
                                description: HTTP status code to override the default
                                  denial status code.
                                format: int64
                                maximum: 599
                                minimum: 300
                                type: integer
                              headers:
                                additionalProperties:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                description: HTTP response headers to override the
                                  default denial headers.
                                type: object
                              message:
                                description: HTTP message to override the default
                                  denial message.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                            type: object
                          unauthorized:
                            description: |-
                              Customizations on the denial status attributes when the request is unauthorized.
                              For integration of Authorino via proxy, the proxy must honour the response status attributes specified in this config.
                              Default: 403 Forbidden
                            properties:
                              body:
                                description: HTTP response body to override the default
                                  denial body.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              code:
                                description: HTTP status code to override the default
                                  denial status code.
                                format: int64
                                maximum: 599
                                minimum: 300
                                type: integer
                              headers:
                                additionalProperties:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                description: HTTP response headers to override the
                                  default denial headers.
                                type: object
                              message:
                                description: HTTP message to override the default
                                  denial message.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                            type: object
                        type: object
                    type: object
                  strategy:
                    default: atomic
                    description: Strategy defines the merge strategy to apply when
                      merging this policy with other policies.
                    enum:
                    - atomic
                    - merge
                    type: string
                  when:
                    description: |-
                      Overall conditions for the policy to be enforced.
                      If omitted, the policy will be enforced at all requests to the protected routes.
                      If present, all conditions must match for the policy to be enforced.
                    items:
                      description: Predicate defines one CEL expression that must
                        be evaluated to bool
                      properties:
                        predicate:
                          minLength: 1
                          type: string
                      required:
                      - predicate
                      type: object
                    type: array
                type: object
              overrides:
                description: |-
                  Rules to apply as overrides. Override all policy rules lower in the hierarchy. Can be overridden by less specific policy overrides.
                  Use one of: defaults, overrides, or bare set of policy rules (implicit defaults).
                properties:
                  patterns:
                    additionalProperties:
                      properties:
                        allOf:
                          items:
                            properties:
                              operator:
                                description: |-
                                  The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                  Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                enum:
                                - eq
                                - neq
                                - incl
                                - excl
                                - matches
                                type: string
                              selector:
                                description: |-
                                  Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  Authorino custom JSON path modifiers are also supported.
                                type: string
                              value:
                                description: |-
                                  The value of reference for the comparison with the content fetched from the authorization JSON.
                                  If used with the "matches" operator, the value must compile to a valid Golang regex.
                                type: string
                            type: object
                          type: array
                      required:
                      - allOf
                      type: object
                    description: Named sets of patterns that can be referred in `when`
                      conditions and in pattern-matching authorization policy rules.
                    type: object
                  rules:
                    description: |-
                      The auth rules of the policy.
                      See Authorino's AuthConfig CRD for more details.
                    properties:
                      authentication:
                        additionalProperties:
                          properties:
                            anonymous:
                              description: Anonymous access.
                              type: object
                            apiKey:
                              description: Authentication based on API keys stored
                                in Kubernetes secrets.
                              properties:
                                allNamespaces:
                                  default: false
                                  description: |-
                                    Whether Authorino should look for API key secrets in all namespaces or only in the same namespace as the AuthConfig.
                                    Enabling this option in namespaced Authorino instances has no effect.
                                  type: boolean
                                selector:
                                  description: Label selector used by Authorino to
                                    match secrets from the cluster storing valid credentials
                                    to authenticate to this service
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                              required:
                              - selector
                              type: object
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            credentials:
                              description: |-
                                Defines where credentials are required to be passed in the request for authentication based on this config.
                                If omitted, it defaults to credentials passed in the HTTP Authorization header and the "Bearer" prefix prepended to the secret credential value.
                              properties:
                                authorizationHeader:
                                  properties:
                                    prefix:
                                      type: string
                                  type: object
                                cookie:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                customHeader:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                queryString:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                              type: object
                            defaults:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: |-
                                Set default property values (claims) for the resolved identity object, that are set before appending the object to
                                the authorization JSON. If the property is already present in the resolved identity object, the default value is ignored.
                                It requires the resolved identity object to always be a JSON object.
                                Do not use this option with identity objects of other JSON types (array, string, etc).
                              type: object
                            jwt:
                              description: Authentication based on JWT tokens.
                              properties:
                                issuerUrl:
                                  description: |-
                                    URL of the OpenID Connect (OIDC) token issuer endpoint.
                                    Use it for automatically discovering the JWKS URL from an OpenID Connect Discovery endpoint (https://openid.net/specs/openid-connect-discovery-1_0.html).
                                    The Well-Known Discovery path (i.e. "/.well-known/openid-configuration") is appended to this URL to fetch the OIDC configuration.
                                    One of: jwksUrl, issuerUrl
                                  type: string
                                jwksUrl:
                                  description: |-
                                    URL of the JSON Web Key Set (JWKS) endpoint.
                                    Use it for non-OpenID Connect (OIDC) JWT authentication, where the JWKS URL is known beforehand.
                                    The JSON Web Keys (JWK) obtained from this endpoint are automatically cached and the caching updated whenever the kid of a JWT does not match any of the cached JWKs (https://openid.net/specs/openid-connect-core-1_0.html#RotateSigKeys).
                                    One of: jwksUrl, issuerUrl
                                  type: string
                                ttl:
                                  description: |-
                                    Decides how long the OIDC configuration will be cached.
                                    If omitted or set to zero, Authorino will never refresh the OIDC configuration.
                                    This configuration does not affect the caching of JSON Web Keys (JWK), which is always updated whenever the kid of a JWT does not match any of the cached JWKs (https://openid.net/specs/openid-connect-core-1_0.html#RotateSigKeys)
                                  type: integer
                              type: object
                              x-kubernetes-validations:
                              - message: 'Use one of: jwksUrl, issuerUrl'
                                rule: '!(has(self.jwksUrl) && self.jwksUrl != ''''
                                  && has(self.issuerUrl) && self.issuerUrl != '''')'
                            kubernetesTokenReview:
                              description: Authentication by Kubernetes token review.
                              properties:
                                audiences:
                                  description: |-
                                    The list of audiences (scopes) that must be claimed in a Kubernetes authentication token supplied in the request, and reviewed by Authorino.
                                    If omitted, Authorino will review tokens expecting the host name of the requested protected service amongst the audiences.
                                  items:
                                    type: string
                                  type: array
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            oauth2Introspection:
                              description: Authentication by OAuth2 token introspection.
                              properties:
                                credentialsRef:
                                  description: Reference to a Kubernetes secret in
                                    the same namespace, that stores client credentials
                                    to the OAuth2 server.
                                  properties:
                                    name:
                                      default: ""
                                      description: |-
                                        Name of the referent.
                                        This field is effectively required, but due to backwards compatibility is
                                        allowed to be empty. Instances of this type with an empty value here are
                                        almost certainly wrong.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                endpoint:
                                  description: The full URL of the token introspection
                                    endpoint.
                                  type: string
                                tokenTypeHint:
                                  description: |-
                                    The token type hint for the token introspection.
                                    If omitted, it defaults to "access_token".
                                  type: string
                              required:
                              - credentialsRef
                              - endpoint
                              type: object
                            overrides:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: |-
                                Overrides the resolved identity object by setting the additional properties (claims) specified in this config,
                                before appending the object to the authorization JSON.
                                It requires the resolved identity object to always be a JSON object.
                                Do not use this option with identity objects of other JSON types (array, string, etc).
                              type: object
                            plain:
                              description: |-
                                Identity object extracted from the context.
                                Use this method when authentication is performed beforehand by a proxy and the resulting object passed to Authorino as JSON in the auth request.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value that represents an identity.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                              type: object
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                            x509:
                              description: |-
                                Authentication based on client X.509 certificates.
                                The certificates presented by the clients must be signed by a trusted CA whose certificates are stored in Kubernetes secrets.
                              properties:
                                allNamespaces:
                                  default: false
                                  description: |-
                                    Whether Authorino should look for TLS secrets in all namespaces or only in the same namespace as the AuthConfig.
                                    Enabling this option in namespaced Authorino instances has no effect.
                                  type: boolean
                                selector:
                                  description: |-
                                    Label selector used by Authorino to match secrets from the cluster storing trusted CA certificates to validate
                                    clients trying to authenticate to this service
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: |-
                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                          relates the key and values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: |-
                                              operator represents a key's relationship to a set of values.
                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                            type: string
                                          values:
                                            description: |-
                                              values is an array of string values. If the operator is In or NotIn,
                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: |-
                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                              required:
                              - selector
                              type: object
                          type: object
                        description: |-
                          Authentication configs.
                          At least one config MUST evaluate to a valid identity object for the auth request to be successful.
                        type: object
                      authorization:
                        additionalProperties:
                          properties:
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            kubernetesSubjectAccessReview:
                              description: Authorization by Kubernetes SubjectAccessReview
                              properties:
                                authorizationGroups:
                                  description: Groups to check for existing permission
                                    in the Kubernetes RBAC alternatively to a specific
                                    user. This is typically obtained from a list of
                                    groups the user is a member of. Must be a static
                                    list of group names or dynamically resolve to
                                    one from the Authorization JSON.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                groups:
                                  description: |-
                                    Groups the user must be a member of or, if `user` is omitted, the groups to check for authorization in the Kubernetes RBAC.
                                    Deprecated: Use authorizationGroups instead.
                                  items:
                                    type: string
                                  type: array
                                resourceAttributes:
                                  description: |-
                                    Use resourceAttributes to check permissions on Kubernetes resources.
                                    If omitted, it performs a non-resource SubjectAccessReview, with verb and path inferred from the request.
                                  properties:
                                    group:
                                      description: |-
                                        API group of the resource.
                                        Use '*' for all API groups.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    name:
                                      description: |-
                                        Resource name
                                        Omit it to check for authorization on all resources of the specified kind.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    namespace:
                                      description: Namespace where the user must have
                                        permissions on the resource.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    resource:
                                      description: |-
                                        Resource kind
                                        Use '*' for all resource kinds.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    subresource:
                                      description: Subresource kind
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    verb:
                                      description: |-
                                        Verb to check for authorization on the resource.
                                        Use '*' for all verbs.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                  type: object
                                user:
                                  description: |-
                                    User to check for authorization in the Kubernetes RBAC.
                                    Omit it to check for group authorization only.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            opa:
                              description: Open Policy Agent (OPA) Rego policy.
                              properties:
                                allValues:
                                  default: false
                                  description: |-
                                    Returns the value of all Rego rules in the virtual document. Values can be read in subsequent evaluators/phases of the Auth Pipeline.
                                    Otherwise, only the default `allow` rule will be exposed.
                                    Returning all Rego rules can affect performance of OPA policies during reconciliation (policy precompile) and at runtime.
                                  type: boolean
                                externalPolicy:
                                  description: |-
                                    Settings for fetching the OPA policy from an external registry.
                                    Use it alternatively to 'rego'.
                                    For the configurations of the HTTP request, the following options are not implemented: 'method', 'body', 'bodyParameters',
                                    'contentType', 'headers', 'oauth2'. Use it only with: 'url', 'sharedSecret', 'credentials'.
                                  properties:
                                    body:
                                      description: |-
                                        Raw body of the HTTP request.
                                        Supersedes 'bodyParameters'; use either one or the other.
                                        Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    bodyParameters:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      description: |-
                                        Custom parameters to encode in the body of the HTTP request.
                                        Superseded by 'body'; use either one or the other.
                                        Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                      type: object
                                    contentType:
                                      default: application/x-www-form-urlencoded
                                      description: |-
                                        Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                        Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                                      enum:
                                      - application/x-www-form-urlencoded
                                      - application/json
                                      type: string
                                    credentials:
                                      description: |-
                                        Defines where client credentials will be passed in the request to the service.
                                        If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                                      properties:
                                        authorizationHeader:
                                          properties:
                                            prefix:
                                              type: string
                                          type: object
                                        cookie:
                                          properties:
                                            name:
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        customHeader:
                                          properties:
                                            name:
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        queryString:
                                          properties:
                                            name:
                                              type: string
                                          required:
                                          - name
                                          type: object
                                      type: object
                                    headers:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      description: Custom headers in the HTTP request.
                                      type: object
                                    method:
                                      default: GET
                                      description: |-
                                        HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                        When the request method is POST, the authorization JSON is passed in the body of the request.
                                      enum:
                                      - GET
                                      - POST
                                      - PUT
                                      - PATCH
                                      - DELETE
                                      - HEAD
                                      - OPTIONS
                                      - CONNECT
                                      - TRACE
                                      type: string
                                    oauth2:
                                      description: Authentication with the HTTP service
                                        by OAuth2 Client Credentials grant.
                                      properties:
                                        cache:
                                          default: true
                                          description: |-
                                            Caches and reuses the token until expired.
                                            Set it to false to force fetch the token at every authorization request regardless of expiration.
                                          type: boolean
                                        clientId:
                                          description: OAuth2 Client ID.
                                          type: string
                                        clientSecretRef:
                                          description: Reference to a Kuberentes Secret
                                            key that stores that OAuth2 Client Secret.
                                          properties:
                                            key:
                                              description: The key of the secret to
                                                select from.  Must be a valid secret
                                                key.
                                              type: string
                                            name:
                                              description: The name of the secret
                                                in the Authorino's namespace to select
                                                from.
                                              type: string
                                          required:
                                          - key
                                          - name
                                          type: object
                                        extraParams:
                                          additionalProperties:
                                            type: string
                                          description: Optional extra parameters for
                                            the requests to the token URL.
                                          type: object
                                        scopes:
                                          description: Optional scopes for the client
                                            credentials grant, if supported by he
                                            OAuth2 server.
                                          items:
                                            type: string
                                          type: array
                                        tokenUrl:
                                          description: Token endpoint URL of the OAuth2
                                            resource server.
                                          type: string
                                      required:
                                      - clientId
                                      - clientSecretRef
                                      - tokenUrl
                                      type: object
                                    sharedSecretRef:
                                      description: |-
                                        Reference to a Secret key whose value will be passed by Authorino in the request.
                                        The HTTP service can use the shared secret to authenticate the origin of the request.
                                        Ignored if used together with oauth2.
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: The name of the secret in the
                                            Authorino's namespace to select from.
                                          type: string
                                      required:
                                      - key
                                      - name
                                      type: object
                                    ttl:
                                      description: Duration (in seconds) of the external
                                        data in the cache before pulled again from
                                        the source.
                                      type: integer
                                    url:
                                      description: |-
                                        Endpoint URL of the HTTP service.
                                        The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                        by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                        E.g. https://ext-auth-server.io/metadata?p={request.path}
                                      type: string
                                    urlExpression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                  type: object
                                rego:
                                  description: |-
                                    Authorization policy as a Rego language document.
                                    The Rego document must include the "allow" condition, set by Authorino to "false" by default (i.e. requests are unauthorized unless changed).
                                    The Rego document must NOT include the "package" declaration in line 1.
                                  type: string
                              type: object
                            patternMatching:
                              description: Pattern-matching authorization rules.
                              properties:
                                patterns:
                                  items:
                                    properties:
                                      all:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical AND.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      any:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical OR.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      operator:
                                        description: |-
                                          The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                          Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                        enum:
                                        - eq
                                        - neq
                                        - incl
                                        - excl
                                        - matches
                                        type: string
                                      patternRef:
                                        description: Reference to a named set of pattern
                                          expressions
                                        type: string
                                      predicate:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a boolean.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          Authorino custom JSON path modifiers are also supported.
                                        type: string
                                      value:
                                        description: |-
                                          The value of reference for the comparison with the content fetched from the authorization JSON.
                                          If used with the "matches" operator, the value must compile to a valid Golang regex.
                                        type: string
                                    type: object
                                  type: array
                              required:
                              - patterns
                              type: object
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            spicedb:
                              description: Authorization decision delegated to external
                                Authzed/SpiceDB server.
                              properties:
                                endpoint:
                                  description: Hostname and port number to the GRPC
                                    interface of the SpiceDB server (e.g. spicedb:50051).
                                  type: string
                                insecure:
                                  description: Insecure HTTP connection (i.e. disables
                                    TLS verification)
                                  type: boolean
                                permission:
                                  description: The name of the permission (or relation)
                                    on which to execute the check.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                resource:
                                  description: The resource on which to check the
                                    permission or relation.
                                  properties:
                                    kind:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    name:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                  type: object
                                sharedSecretRef:
                                  description: Reference to a Secret key whose value
                                    will be used by Authorino to authenticate with
                                    the Authzed service.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                subject:
                                  description: The subject that will be checked for
                                    the permission or relation.
                                  properties:
                                    kind:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    name:
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                  type: object
                              required:
                              - endpoint
                              type: object
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                          type: object
                        description: |-
                          Authorization policies.
                          All policies MUST evaluate to "allowed = true" for the auth request be successful.
                        type: object
                      callbacks:
                        additionalProperties:
                          properties:
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            http:
                              description: Settings of the external HTTP request
                              properties:
                                body:
                                  description: |-
                                    Raw body of the HTTP request.
                                    Supersedes 'bodyParameters'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                bodyParameters:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: |-
                                    Custom parameters to encode in the body of the HTTP request.
                                    Superseded by 'body'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  type: object
                                contentType:
                                  default: application/x-www-form-urlencoded
                                  description: |-
                                    Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                    Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                                  enum:
                                  - application/x-www-form-urlencoded
                                  - application/json
                                  type: string
                                credentials:
                                  description: |-
                                    Defines where client credentials will be passed in the request to the service.
                                    If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                                  properties:
                                    authorizationHeader:
                                      properties:
                                        prefix:
                                          type: string
                                      type: object
                                    cookie:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    customHeader:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    queryString:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                  type: object
                                headers:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: Custom headers in the HTTP request.
                                  type: object
                                method:
                                  default: GET
                                  description: |-
                                    HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                    When the request method is POST, the authorization JSON is passed in the body of the request.
                                  enum:
                                  - GET
                                  - POST
                                  - PUT
                                  - PATCH
                                  - DELETE
                                  - HEAD
                                  - OPTIONS
                                  - CONNECT
                                  - TRACE
                                  type: string
                                oauth2:
                                  description: Authentication with the HTTP service
                                    by OAuth2 Client Credentials grant.
                                  properties:
                                    cache:
                                      default: true
                                      description: |-
                                        Caches and reuses the token until expired.
                                        Set it to false to force fetch the token at every authorization request regardless of expiration.
                                      type: boolean
                                    clientId:
                                      description: OAuth2 Client ID.
                                      type: string
                                    clientSecretRef:
                                      description: Reference to a Kuberentes Secret
                                        key that stores that OAuth2 Client Secret.
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: The name of the secret in the
                                            Authorino's namespace to select from.
                                          type: string
                                      required:
                                      - key
                                      - name
                                      type: object
                                    extraParams:
                                      additionalProperties:
                                        type: string
                                      description: Optional extra parameters for the
                                        requests to the token URL.
                                      type: object
                                    scopes:
                                      description: Optional scopes for the client
                                        credentials grant, if supported by he OAuth2
                                        server.
                                      items:
                                        type: string
                                      type: array
                                    tokenUrl:
                                      description: Token endpoint URL of the OAuth2
                                        resource server.
                                      type: string
                                  required:
                                  - clientId
                                  - clientSecretRef
                                  - tokenUrl
                                  type: object
                                sharedSecretRef:
                                  description: |-
                                    Reference to a Secret key whose value will be passed by Authorino in the request.
                                    The HTTP service can use the shared secret to authenticate the origin of the request.
                                    Ignored if used together with oauth2.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                url:
                                  description: |-
                                    Endpoint URL of the HTTP service.
                                    The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                    by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                    E.g. https://ext-auth-server.io/metadata?p={request.path}
                                  type: string
                                urlExpression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                          required:
                          - http
                          type: object
                        description: |-
                          Callback functions.
                          Authorino sends callbacks at the end of the auth pipeline to the endpoints specified in this config.
                        type: object
                      metadata:
                        additionalProperties:
                          properties:
                            cache:
                              description: |-
                                Caching options for the resolved object returned when applying this config.
                                Omit it to avoid caching objects for this config.
                              properties:
                                key:
                                  description: |-
                                    Key used to store the entry in the cache.
                                    The resolved key must be unique within the scope of this particular config.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                ttl:
                                  default: 60
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                              required:
                              - key
                              type: object
                            http:
                              description: External source of auth metadata via HTTP
                                request
                              properties:
                                body:
                                  description: |-
                                    Raw body of the HTTP request.
                                    Supersedes 'bodyParameters'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                bodyParameters:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: |-
                                    Custom parameters to encode in the body of the HTTP request.
                                    Superseded by 'body'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  type: object
                                contentType:
                                  default: application/x-www-form-urlencoded
                                  description: |-
                                    Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                    Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                                  enum:
                                  - application/x-www-form-urlencoded
                                  - application/json
                                  type: string
                                credentials:
                                  description: |-
                                    Defines where client credentials will be passed in the request to the service.
                                    If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                                  properties:
                                    authorizationHeader:
                                      properties:
                                        prefix:
                                          type: string
                                      type: object
                                    cookie:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    customHeader:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    queryString:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                  type: object
                                headers:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: Custom headers in the HTTP request.
                                  type: object
                                method:
                                  default: GET
                                  description: |-
                                    HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                    When the request method is POST, the authorization JSON is passed in the body of the request.
                                  enum:
                                  - GET
                                  - POST
                                  - PUT
                                  - PATCH
                                  - DELETE
                                  - HEAD
                                  - OPTIONS
                                  - CONNECT
                                  - TRACE
                                  type: string
                                oauth2:
                                  description: Authentication with the HTTP service
                                    by OAuth2 Client Credentials grant.
                                  properties:
                                    cache:
                                      default: true
                                      description: |-
                                        Caches and reuses the token until expired.
                                        Set it to false to force fetch the token at every authorization request regardless of expiration.
                                      type: boolean
                                    clientId:
                                      description: OAuth2 Client ID.
                                      type: string
                                    clientSecretRef:
                                      description: Reference to a Kuberentes Secret
                                        key that stores that OAuth2 Client Secret.
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: The name of the secret in the
                                            Authorino's namespace to select from.
                                          type: string
                                      required:
                                      - key
                                      - name
                                      type: object
                                    extraParams:
                                      additionalProperties:
                                        type: string
                                      description: Optional extra parameters for the
                                        requests to the token URL.
                                      type: object
                                    scopes:
                                      description: Optional scopes for the client
                                        credentials grant, if supported by he OAuth2
                                        server.
                                      items:
                                        type: string
                                      type: array
                                    tokenUrl:
                                      description: Token endpoint URL of the OAuth2
                                        resource server.
                                      type: string
                                  required:
                                  - clientId
                                  - clientSecretRef
                                  - tokenUrl
                                  type: object
                                sharedSecretRef:
                                  description: |-
                                    Reference to a Secret key whose value will be passed by Authorino in the request.
                                    The HTTP service can use the shared secret to authenticate the origin of the request.
                                    Ignored if used together with oauth2.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                url:
                                  description: |-
                                    Endpoint URL of the HTTP service.
                                    The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                    by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                    E.g. https://ext-auth-server.io/metadata?p={request.path}
                                  type: string
                                urlExpression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                              type: object
                            metrics:
                              default: false
                              description: Whether this config should generate individual
                                observability metrics
                              type: boolean
                            priority:
                              default: 0
                              description: |-
                                Priority group of the config.
                                All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                              type: integer
                            uma:
                              description: User-Managed Access (UMA) source of resource
                                data.
                              properties:
                                credentialsRef:
                                  description: Reference to a Kubernetes secret in
                                    the same namespace, that stores client credentials
                                    to the resource registration API of the UMA server.
                                  properties:
                                    name:
                                      default: ""
                                      description: |-
                                        Name of the referent.
                                        This field is effectively required, but due to backwards compatibility is
                                        allowed to be empty. Instances of this type with an empty value here are
                                        almost certainly wrong.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                endpoint:
                                  description: |-
                                    The endpoint of the UMA server.
                                    The value must coincide with the "issuer" claim of the UMA config discovered from the well-known uma configuration endpoint.
                                  type: string
                              required:
                              - credentialsRef
                              - endpoint
                              type: object
                            userInfo:
                              description: OpendID Connect UserInfo linked to an OIDC
                                authentication config specified in this same AuthConfig.
                              properties:
                                identitySource:
                                  description: |-
                                    Name of an OIDC JWT authentication rule whose obtained configuration includes an "userinfo_endpoint" claim.
                                    One of: identitySource, userInfoUrl
                                  type: string
                                userInfoUrl:
                                  description: |-
                                    The URL of the UserInfo endpoint.
                                    Use it for non-OIDC JWT authentication, where the UserInfo URL is known beforehand.
                                    One of: identitySource, userInfoUrl
                                  type: string
                              type: object
                              x-kubernetes-validations:
                              - message: 'Use one of: identitySource, userInfoUrl'
                                rule: '!(has(self.identitySource) && self.identitySource
                                  != '''' && has(self.userInfoUrl) && self.userInfoUrl
                                  != '''')'
                            when:
                              description: |-
                                Conditions for Authorino to enforce this config.
                                If omitted, the config will be enforced for all requests.
                                If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                          type: object
                        description: |-
                          Metadata sources.
                          Authorino fetches auth metadata as JSON from sources specified in this config.
                        type: object
                      response:
                        description: |-
                          Response items.
                          Authorino builds custom responses to the client of the auth request.
                        properties:
                          success:
                            description: |-
                              Response items to be included in the auth response when the request is authenticated and authorized.
                              For integration of Authorino via proxy, the proxy must use these settings to propagate dynamic metadata and/or inject data in the request.
                            properties:
                              filters:
                                additionalProperties:
                                  properties:
                                    cache:
                                      description: |-
                                        Caching options for the resolved object returned when applying this config.
                                        Omit it to avoid caching objects for this config.
                                      properties:
                                        key:
                                          description: |-
                                            Key used to store the entry in the cache.
                                            The resolved key must be unique within the scope of this particular config.
                                          properties:
                                            expression:
                                              description: |-
                                                A Common Expression Language (CEL) expression that evaluates to a value.
                                                String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                              type: string
                                            selector:
                                              description: |-
                                                Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                              type: string
                                            value:
                                              description: Static value
                                              x-kubernetes-preserve-unknown-fields: true
                                          type: object
                                        ttl:
                                          default: 60
                                          description: Duration (in seconds) of the
                                            external data in the cache before pulled
                                            again from the source.
                                          type: integer
                                      required:
                                      - key
                                      type: object
                                    json:
                                      description: |-
                                        JSON object
                                        Specify it as the list of properties of the object, whose values can combine static values and values selected from the authorization JSON.
                                      properties:
                                        properties:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          type: object
                                      required:
                                      - properties
                                      type: object
                                    key:
                                      description: |-
                                        The key used to add the custom response item (name of the HTTP header or root property of the Dynamic Metadata object).
                                        If omitted, it will be set to the name of the response config.
                                      type: string
                                    metrics:
                                      default: false
                                      description: Whether this config should generate
                                        individual observability metrics
                                      type: boolean
                                    plain:
                                      description: Plain text content
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    priority:
                                      default: 0
                                      description: |-
                                        Priority group of the config.
                                        All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                                      type: integer
                                    when:
                                      description: |-
                                        Conditions for Authorino to enforce this config.
                                        If omitted, the config will be enforced for all requests.
                                        If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                                      items:
                                        properties:
                                          all:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical AND.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          any:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical OR.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          operator:
                                            description: |-
                                              The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                              Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                            enum:
                                            - eq
                                            - neq
                                            - incl
                                            - excl
                                            - matches
                                            type: string
                                          patternRef:
                                            description: Reference to a named set
                                              of pattern expressions
                                            type: string
                                          predicate:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a boolean.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              Authorino custom JSON path modifiers are also supported.
                                            type: string
                                          value:
                                            description: |-
                                              The value of reference for the comparison with the content fetched from the authorization JSON.
                                              If used with the "matches" operator, the value must compile to a valid Golang regex.
                                            type: string
                                        type: object
                                      type: array
                                    wristband:
                                      description: Authorino Festival Wristband token
                                      properties:
                                        customClaims:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          description: Any claims to be added to the
                                            wristband token apart from the standard
                                            JWT claims (iss, iat, exp) added by default.
                                          type: object
                                        issuer:
                                          description: 'The endpoint to the Authorino
                                            service that issues the wristband (format:
                                            <scheme>://<host>:<port>/<realm>, where
                                            <realm> = <namespace>/<authorino-auth-config-resource-name/wristband-config-name)'
                                          type: string
                                        signingKeyRefs:
                                          description: |-
                                            Reference by name to Kubernetes secrets and corresponding signing algorithms.
                                            The secrets must contain a `key.pem` entry whose value is the signing key formatted as PEM.
                                          items:
                                            properties:
                                              algorithm:
                                                description: Algorithm to sign the
                                                  wristband token using the signing
                                                  key provided
                                                enum:
                                                - ES256
                                                - ES384
                                                - ES512
                                                - RS256
                                                - RS384
                                                - RS512
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the signing key.
                                                  The value is used to reference the Kubernetes secret that stores the key and in the `kid` claim of the wristband token header.
                                                type: string
                                            required:
                                            - algorithm
                                            - name
                                            type: object
                                          type: array
                                        tokenDuration:
                                          description: Time span of the wristband
                                            token, in seconds.
                                          format: int64
                                          type: integer
                                      required:
                                      - issuer
                                      - signingKeyRefs
                                      type: object
                                  type: object
                                description: Custom data made available to other filters
                                  managed by Kuadrant (i.e. Rate Limit)
                                type: object
                              headers:
                                additionalProperties:
                                  properties:
                                    cache:
                                      description: |-
                                        Caching options for the resolved object returned when applying this config.
                                        Omit it to avoid caching objects for this config.
                                      properties:
                                        key:
                                          description: |-
                                            Key used to store the entry in the cache.
                                            The resolved key must be unique within the scope of this particular config.
                                          properties:
                                            expression:
                                              description: |-
                                                A Common Expression Language (CEL) expression that evaluates to a value.
                                                String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                              type: string
                                            selector:
                                              description: |-
                                                Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                              type: string
                                            value:
                                              description: Static value
                                              x-kubernetes-preserve-unknown-fields: true
                                          type: object
                                        ttl:
                                          default: 60
                                          description: Duration (in seconds) of the
                                            external data in the cache before pulled
                                            again from the source.
                                          type: integer
                                      required:
                                      - key
                                      type: object
                                    json:
                                      description: |-
                                        JSON object
                                        Specify it as the list of properties of the object, whose values can combine static values and values selected from the authorization JSON.
                                      properties:
                                        properties:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          type: object
                                      required:
                                      - properties
                                      type: object
                                    key:
                                      description: |-
                                        The key used to add the custom response item (name of the HTTP header or root property of the Dynamic Metadata object).
                                        If omitted, it will be set to the name of the response config.
                                      type: string
                                    metrics:
                                      default: false
                                      description: Whether this config should generate
                                        individual observability metrics
                                      type: boolean
                                    plain:
                                      description: Plain text content
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    priority:
                                      default: 0
                                      description: |-
                                        Priority group of the config.
                                        All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                                      type: integer
                                    when:
                                      description: |-
                                        Conditions for Authorino to enforce this config.
                                        If omitted, the config will be enforced for all requests.
                                        If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                                      items:
                                        properties:
                                          all:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical AND.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          any:
                                            description: A list of pattern expressions
                                              to be evaluated as a logical OR.
                                            items:
                                              type: object
                                              x-kubernetes-preserve-unknown-fields: true
                                            type: array
                                          operator:
                                            description: |-
                                              The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                              Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                            enum:
                                            - eq
                                            - neq
                                            - incl
                                            - excl
                                            - matches
                                            type: string
                                          patternRef:
                                            description: Reference to a named set
                                              of pattern expressions
                                            type: string
                                          predicate:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a boolean.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              Authorino custom JSON path modifiers are also supported.
                                            type: string
                                          value:
                                            description: |-
                                              The value of reference for the comparison with the content fetched from the authorization JSON.
                                              If used with the "matches" operator, the value must compile to a valid Golang regex.
                                            type: string
                                        type: object
                                      type: array
                                    wristband:
                                      description: Authorino Festival Wristband token
                                      properties:
                                        customClaims:
                                          additionalProperties:
                                            properties:
                                              expression:
                                                description: |-
                                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                                type: string
                                              selector:
                                                description: |-
                                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                                type: string
                                              value:
                                                description: Static value
                                                x-kubernetes-preserve-unknown-fields: true
                                            type: object
                                          description: Any claims to be added to the
                                            wristband token apart from the standard
                                            JWT claims (iss, iat, exp) added by default.
                                          type: object
                                        issuer:
                                          description: 'The endpoint to the Authorino
                                            service that issues the wristband (format:
                                            <scheme>://<host>:<port>/<realm>, where
                                            <realm> = <namespace>/<authorino-auth-config-resource-name/wristband-config-name)'
                                          type: string
                                        signingKeyRefs:
                                          description: |-
                                            Reference by name to Kubernetes secrets and corresponding signing algorithms.
                                            The secrets must contain a `key.pem` entry whose value is the signing key formatted as PEM.
                                          items:
                                            properties:
                                              algorithm:
                                                description: Algorithm to sign the
                                                  wristband token using the signing
                                                  key provided
                                                enum:
                                                - ES256
                                                - ES384
                                                - ES512
                                                - RS256
                                                - RS384
                                                - RS512
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the signing key.
                                                  The value is used to reference the Kubernetes secret that stores the key and in the `kid` claim of the wristband token header.
                                                type: string
                                            required:
                                            - algorithm
                                            - name
                                            type: object
                                          type: array
                                        tokenDuration:
                                          description: Time span of the wristband
                                            token, in seconds.
                                          format: int64
                                          type: integer
                                      required:
                                      - issuer
                                      - signingKeyRefs
                                      type: object
                                  type: object
                                description: Custom headers to inject in the request.
                                type: object
                            type: object
                          unauthenticated:
                            description: |-
                              Customizations on the denial status attributes when the request is unauthenticated.
                              For integration of Authorino via proxy, the proxy must honour the response status attributes specified in this config.
                              Default: 401 Unauthorized
                            properties:
                              body:
                                description: HTTP response body to override the default
                                  denial body.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              code:
                                description: HTTP status code to override the default
                                  denial status code.
                                format: int64
                                maximum: 599
                                minimum: 300
                                type: integer
                              headers:
                                additionalProperties:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                description: HTTP response headers to override the
                                  default denial headers.
                                type: object
                              message:
                                description: HTTP message to override the default
                                  denial message.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                            type: object
                          unauthorized:
                            description: |-
                              Customizations on the denial status attributes when the request is unauthorized.
                              For integration of Authorino via proxy, the proxy must honour the response status attributes specified in this config.
                              Default: 403 Forbidden
                            properties:
                              body:
                                description: HTTP response body to override the default
                                  denial body.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              code:
                                description: HTTP status code to override the default
                                  denial status code.
                                format: int64
                                maximum: 599
                                minimum: 300
                                type: integer
                              headers:
                                additionalProperties:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                description: HTTP response headers to override the
                                  default denial headers.
                                type: object
                              message:
                                description: HTTP message to override the default
                                  denial message.
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                            type: object
                        type: object
                    type: object
                  strategy:
                    default: atomic
                    description: Strategy defines the merge strategy to apply when
                      merging this policy with other policies.
                    enum:
                    - atomic
                    - merge
                    type: string
                  when:
                    description: |-
                      Overall conditions for the policy to be enforced.
                      If omitted, the policy will be enforced at all requests to the protected routes.
                      If present, all conditions must match for the policy to be enforced.
                    items:
                      description: Predicate defines one CEL expression that must
                        be evaluated to bool
                      properties:
                        predicate:
                          minLength: 1
                          type: string
                      required:
                      - predicate
                      type: object
                    type: array
                type: object
              patterns:
                additionalProperties:
                  properties:
                    allOf:
                      items:
                        properties:
                          operator:
                            description: |-
                              The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                              Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                            enum:
                            - eq
                            - neq
                            - incl
                            - excl
                            - matches
                            type: string
                          selector:
                            description: |-
                              Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                              Authorino custom JSON path modifiers are also supported.
                            type: string
                          value:
                            description: |-
                              The value of reference for the comparison with the content fetched from the authorization JSON.
                              If used with the "matches" operator, the value must compile to a valid Golang regex.
                            type: string
                        type: object
                      type: array
                  required:
                  - allOf
                  type: object
                description: Named sets of patterns that can be referred in `when`
                  conditions and in pattern-matching authorization policy rules.
                type: object
              rules:
                description: |-
                  The auth rules of the policy.
                  See Authorino's AuthConfig CRD for more details.
                properties:
                  authentication:
                    additionalProperties:
                      properties:
                        anonymous:
                          description: Anonymous access.
                          type: object
                        apiKey:
                          description: Authentication based on API keys stored in
                            Kubernetes secrets.
                          properties:
                            allNamespaces:
                              default: false
                              description: |-
                                Whether Authorino should look for API key secrets in all namespaces or only in the same namespace as the AuthConfig.
                                Enabling this option in namespaced Authorino instances has no effect.
                              type: boolean
                            selector:
                              description: Label selector used by Authorino to match
                                secrets from the cluster storing valid credentials
                                to authenticate to this service
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                          required:
                          - selector
                          type: object
                        cache:
                          description: |-
                            Caching options for the resolved object returned when applying this config.
                            Omit it to avoid caching objects for this config.
                          properties:
                            key:
                              description: |-
                                Key used to store the entry in the cache.
                                The resolved key must be unique within the scope of this particular config.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            ttl:
                              default: 60
                              description: Duration (in seconds) of the external data
                                in the cache before pulled again from the source.
                              type: integer
                          required:
                          - key
                          type: object
                        credentials:
                          description: |-
                            Defines where credentials are required to be passed in the request for authentication based on this config.
                            If omitted, it defaults to credentials passed in the HTTP Authorization header and the "Bearer" prefix prepended to the secret credential value.
                          properties:
                            authorizationHeader:
                              properties:
                                prefix:
                                  type: string
                              type: object
                            cookie:
                              properties:
                                name:
                                  type: string
                              required:
                              - name
                              type: object
                            customHeader:
                              properties:
                                name:
                                  type: string
                              required:
                              - name
                              type: object
                            queryString:
                              properties:
                                name:
                                  type: string
                              required:
                              - name
                              type: object
                          type: object
                        defaults:
                          additionalProperties:
                            properties:
                              expression:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                type: string
                              value:
                                description: Static value
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                          description: |-
                            Set default property values (claims) for the resolved identity object, that are set before appending the object to
                            the authorization JSON. If the property is already present in the resolved identity object, the default value is ignored.
                            It requires the resolved identity object to always be a JSON object.
                            Do not use this option with identity objects of other JSON types (array, string, etc).
                          type: object
                        jwt:
                          description: Authentication based on JWT tokens.
                          properties:
                            issuerUrl:
                              description: |-
                                URL of the OpenID Connect (OIDC) token issuer endpoint.
                                Use it for automatically discovering the JWKS URL from an OpenID Connect Discovery endpoint (https://openid.net/specs/openid-connect-discovery-1_0.html).
                                The Well-Known Discovery path (i.e. "/.well-known/openid-configuration") is appended to this URL to fetch the OIDC configuration.
                                One of: jwksUrl, issuerUrl
                              type: string
                            jwksUrl:
                              description: |-
                                URL of the JSON Web Key Set (JWKS) endpoint.
                                Use it for non-OpenID Connect (OIDC) JWT authentication, where the JWKS URL is known beforehand.
                                The JSON Web Keys (JWK) obtained from this endpoint are automatically cached and the caching updated whenever the kid of a JWT does not match any of the cached JWKs (https://openid.net/specs/openid-connect-core-1_0.html#RotateSigKeys).
                                One of: jwksUrl, issuerUrl
                              type: string
                            ttl:
                              description: |-
                                Decides how long the OIDC configuration will be cached.
                                If omitted or set to zero, Authorino will never refresh the OIDC configuration.
                                This configuration does not affect the caching of JSON Web Keys (JWK), which is always updated whenever the kid of a JWT does not match any of the cached JWKs (https://openid.net/specs/openid-connect-core-1_0.html#RotateSigKeys)
                              type: integer
                          type: object
                          x-kubernetes-validations:
                          - message: 'Use one of: jwksUrl, issuerUrl'
                            rule: '!(has(self.jwksUrl) && self.jwksUrl != '''' &&
                              has(self.issuerUrl) && self.issuerUrl != '''')'
                        kubernetesTokenReview:
                          description: Authentication by Kubernetes token review.
                          properties:
                            audiences:
                              description: |-
                                The list of audiences (scopes) that must be claimed in a Kubernetes authentication token supplied in the request, and reviewed by Authorino.
                                If omitted, Authorino will review tokens expecting the host name of the requested protected service amongst the audiences.
                              items:
                                type: string
                              type: array
                          type: object
                        metrics:
                          default: false
                          description: Whether this config should generate individual
                            observability metrics
                          type: boolean
                        oauth2Introspection:
                          description: Authentication by OAuth2 token introspection.
                          properties:
                            credentialsRef:
                              description: Reference to a Kubernetes secret in the
                                same namespace, that stores client credentials to
                                the OAuth2 server.
                              properties:
                                name:
                                  default: ""
                                  description: |-
                                    Name of the referent.
                                    This field is effectively required, but due to backwards compatibility is
                                    allowed to be empty. Instances of this type with an empty value here are
                                    almost certainly wrong.
                                    More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                  type: string
                              type: object
                              x-kubernetes-map-type: atomic
                            endpoint:
                              description: The full URL of the token introspection
                                endpoint.
                              type: string
                            tokenTypeHint:
                              description: |-
                                The token type hint for the token introspection.
                                If omitted, it defaults to "access_token".
                              type: string
                          required:
                          - credentialsRef
                          - endpoint
                          type: object
                        overrides:
                          additionalProperties:
                            properties:
                              expression:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                type: string
                              value:
                                description: Static value
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                          description: |-
                            Overrides the resolved identity object by setting the additional properties (claims) specified in this config,
                            before appending the object to the authorization JSON.
                            It requires the resolved identity object to always be a JSON object.
                            Do not use this option with identity objects of other JSON types (array, string, etc).
                          type: object
                        plain:
                          description: |-
                            Identity object extracted from the context.
                            Use this method when authentication is performed beforehand by a proxy and the resulting object passed to Authorino as JSON in the auth request.
                          properties:
                            expression:
                              description: |-
                                A Common Expression Language (CEL) expression that evaluates to a value that represents an identity.
                                String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                              type: string
                            selector:
                              description: |-
                                Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                              type: string
                          type: object
                        priority:
                          default: 0
                          description: |-
                            Priority group of the config.
                            All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                          type: integer
                        when:
                          description: |-
                            Conditions for Authorino to enforce this config.
                            If omitted, the config will be enforced for all requests.
                            If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                          items:
                            properties:
                              all:
                                description: A list of pattern expressions to be evaluated
                                  as a logical AND.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              any:
                                description: A list of pattern expressions to be evaluated
                                  as a logical OR.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              operator:
                                description: |-
                                  The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                  Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                enum:
                                - eq
                                - neq
                                - incl
                                - excl
                                - matches
                                type: string
                              patternRef:
                                description: Reference to a named set of pattern expressions
                                type: string
                              predicate:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a boolean.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  Authorino custom JSON path modifiers are also supported.
                                type: string
                              value:
                                description: |-
                                  The value of reference for the comparison with the content fetched from the authorization JSON.
                                  If used with the "matches" operator, the value must compile to a valid Golang regex.
                                type: string
                            type: object
                          type: array
                        x509:
                          description: |-
                            Authentication based on client X.509 certificates.
                            The certificates presented by the clients must be signed by a trusted CA whose certificates are stored in Kubernetes secrets.
                          properties:
                            allNamespaces:
                              default: false
                              description: |-
                                Whether Authorino should look for TLS secrets in all namespaces or only in the same namespace as the AuthConfig.
                                Enabling this option in namespaced Authorino instances has no effect.
                              type: boolean
                            selector:
                              description: |-
                                Label selector used by Authorino to match secrets from the cluster storing trusted CA certificates to validate
                                clients trying to authenticate to this service
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: |-
                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                      relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: |-
                                          operator represents a key's relationship to a set of values.
                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: |-
                                          values is an array of string values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                          the values array must be empty. This array is replaced during a strategic
                                          merge patch.
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                          required:
                          - selector
                          type: object
                      type: object
                    description: |-
                      Authentication configs.
                      At least one config MUST evaluate to a valid identity object for the auth request to be successful.
                    type: object
                  authorization:
                    additionalProperties:
                      properties:
                        cache:
                          description: |-
                            Caching options for the resolved object returned when applying this config.
                            Omit it to avoid caching objects for this config.
                          properties:
                            key:
                              description: |-
                                Key used to store the entry in the cache.
                                The resolved key must be unique within the scope of this particular config.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            ttl:
                              default: 60
                              description: Duration (in seconds) of the external data
                                in the cache before pulled again from the source.
                              type: integer
                          required:
                          - key
                          type: object
                        kubernetesSubjectAccessReview:
                          description: Authorization by Kubernetes SubjectAccessReview
                          properties:
                            authorizationGroups:
                              description: Groups to check for existing permission
                                in the Kubernetes RBAC alternatively to a specific
                                user. This is typically obtained from a list of groups
                                the user is a member of. Must be a static list of
                                group names or dynamically resolve to one from the
                                Authorization JSON.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            groups:
                              description: |-
                                Groups the user must be a member of or, if `user` is omitted, the groups to check for authorization in the Kubernetes RBAC.
                                Deprecated: Use authorizationGroups instead.
                              items:
                                type: string
                              type: array
                            resourceAttributes:
                              description: |-
                                Use resourceAttributes to check permissions on Kubernetes resources.
                                If omitted, it performs a non-resource SubjectAccessReview, with verb and path inferred from the request.
                              properties:
                                group:
                                  description: |-
                                    API group of the resource.
                                    Use '*' for all API groups.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                name:
                                  description: |-
                                    Resource name
                                    Omit it to check for authorization on all resources of the specified kind.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                namespace:
                                  description: Namespace where the user must have
                                    permissions on the resource.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                resource:
                                  description: |-
                                    Resource kind
                                    Use '*' for all resource kinds.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                subresource:
                                  description: Subresource kind
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                verb:
                                  description: |-
                                    Verb to check for authorization on the resource.
                                    Use '*' for all verbs.
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                              type: object
                            user:
                              description: |-
                                User to check for authorization in the Kubernetes RBAC.
                                Omit it to check for group authorization only.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                          type: object
                        metrics:
                          default: false
                          description: Whether this config should generate individual
                            observability metrics
                          type: boolean
                        opa:
                          description: Open Policy Agent (OPA) Rego policy.
                          properties:
                            allValues:
                              default: false
                              description: |-
                                Returns the value of all Rego rules in the virtual document. Values can be read in subsequent evaluators/phases of the Auth Pipeline.
                                Otherwise, only the default `allow` rule will be exposed.
                                Returning all Rego rules can affect performance of OPA policies during reconciliation (policy precompile) and at runtime.
                              type: boolean
                            externalPolicy:
                              description: |-
                                Settings for fetching the OPA policy from an external registry.
                                Use it alternatively to 'rego'.
                                For the configurations of the HTTP request, the following options are not implemented: 'method', 'body', 'bodyParameters',
                                'contentType', 'headers', 'oauth2'. Use it only with: 'url', 'sharedSecret', 'credentials'.
                              properties:
                                body:
                                  description: |-
                                    Raw body of the HTTP request.
                                    Supersedes 'bodyParameters'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                bodyParameters:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: |-
                                    Custom parameters to encode in the body of the HTTP request.
                                    Superseded by 'body'; use either one or the other.
                                    Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                                  type: object
                                contentType:
                                  default: application/x-www-form-urlencoded
                                  description: |-
                                    Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                    Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                                  enum:
                                  - application/x-www-form-urlencoded
                                  - application/json
                                  type: string
                                credentials:
                                  description: |-
                                    Defines where client credentials will be passed in the request to the service.
                                    If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                                  properties:
                                    authorizationHeader:
                                      properties:
                                        prefix:
                                          type: string
                                      type: object
                                    cookie:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    customHeader:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    queryString:
                                      properties:
                                        name:
                                          type: string
                                      required:
                                      - name
                                      type: object
                                  type: object
                                headers:
                                  additionalProperties:
                                    properties:
                                      expression:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a value.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                        type: string
                                      value:
                                        description: Static value
                                        x-kubernetes-preserve-unknown-fields: true
                                    type: object
                                  description: Custom headers in the HTTP request.
                                  type: object
                                method:
                                  default: GET
                                  description: |-
                                    HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                    When the request method is POST, the authorization JSON is passed in the body of the request.
                                  enum:
                                  - GET
                                  - POST
                                  - PUT
                                  - PATCH
                                  - DELETE
                                  - HEAD
                                  - OPTIONS
                                  - CONNECT
                                  - TRACE
                                  type: string
                                oauth2:
                                  description: Authentication with the HTTP service
                                    by OAuth2 Client Credentials grant.
                                  properties:
                                    cache:
                                      default: true
                                      description: |-
                                        Caches and reuses the token until expired.
                                        Set it to false to force fetch the token at every authorization request regardless of expiration.
                                      type: boolean
                                    clientId:
                                      description: OAuth2 Client ID.
                                      type: string
                                    clientSecretRef:
                                      description: Reference to a Kuberentes Secret
                                        key that stores that OAuth2 Client Secret.
                                      properties:
                                        key:
                                          description: The key of the secret to select
                                            from.  Must be a valid secret key.
                                          type: string
                                        name:
                                          description: The name of the secret in the
                                            Authorino's namespace to select from.
                                          type: string
                                      required:
                                      - key
                                      - name
                                      type: object
                                    extraParams:
                                      additionalProperties:
                                        type: string
                                      description: Optional extra parameters for the
                                        requests to the token URL.
                                      type: object
                                    scopes:
                                      description: Optional scopes for the client
                                        credentials grant, if supported by he OAuth2
                                        server.
                                      items:
                                        type: string
                                      type: array
                                    tokenUrl:
                                      description: Token endpoint URL of the OAuth2
                                        resource server.
                                      type: string
                                  required:
                                  - clientId
                                  - clientSecretRef
                                  - tokenUrl
                                  type: object
                                sharedSecretRef:
                                  description: |-
                                    Reference to a Secret key whose value will be passed by Authorino in the request.
                                    The HTTP service can use the shared secret to authenticate the origin of the request.
                                    Ignored if used together with oauth2.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                ttl:
                                  description: Duration (in seconds) of the external
                                    data in the cache before pulled again from the
                                    source.
                                  type: integer
                                url:
                                  description: |-
                                    Endpoint URL of the HTTP service.
                                    The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                    by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                    E.g. https://ext-auth-server.io/metadata?p={request.path}
                                  type: string
                                urlExpression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                              type: object
                            rego:
                              description: |-
                                Authorization policy as a Rego language document.
                                The Rego document must include the "allow" condition, set by Authorino to "false" by default (i.e. requests are unauthorized unless changed).
                                The Rego document must NOT include the "package" declaration in line 1.
                              type: string
                          type: object
                        patternMatching:
                          description: Pattern-matching authorization rules.
                          properties:
                            patterns:
                              items:
                                properties:
                                  all:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical AND.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  any:
                                    description: A list of pattern expressions to
                                      be evaluated as a logical OR.
                                    items:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    type: array
                                  operator:
                                    description: |-
                                      The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                      Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                    enum:
                                    - eq
                                    - neq
                                    - incl
                                    - excl
                                    - matches
                                    type: string
                                  patternRef:
                                    description: Reference to a named set of pattern
                                      expressions
                                    type: string
                                  predicate:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a boolean.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      Authorino custom JSON path modifiers are also supported.
                                    type: string
                                  value:
                                    description: |-
                                      The value of reference for the comparison with the content fetched from the authorization JSON.
                                      If used with the "matches" operator, the value must compile to a valid Golang regex.
                                    type: string
                                type: object
                              type: array
                          required:
                          - patterns
                          type: object
                        priority:
                          default: 0
                          description: |-
                            Priority group of the config.
                            All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                          type: integer
                        spicedb:
                          description: Authorization decision delegated to external
                            Authzed/SpiceDB server.
                          properties:
                            endpoint:
                              description: Hostname and port number to the GRPC interface
                                of the SpiceDB server (e.g. spicedb:50051).
                              type: string
                            insecure:
                              description: Insecure HTTP connection (i.e. disables
                                TLS verification)
                              type: boolean
                            permission:
                              description: The name of the permission (or relation)
                                on which to execute the check.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            resource:
                              description: The resource on which to check the permission
                                or relation.
                              properties:
                                kind:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                name:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                              type: object
                            sharedSecretRef:
                              description: Reference to a Secret key whose value will
                                be used by Authorino to authenticate with the Authzed
                                service.
                              properties:
                                key:
                                  description: The key of the secret to select from.  Must
                                    be a valid secret key.
                                  type: string
                                name:
                                  description: The name of the secret in the Authorino's
                                    namespace to select from.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            subject:
                              description: The subject that will be checked for the
                                permission or relation.
                              properties:
                                kind:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                name:
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                              type: object
                          required:
                          - endpoint
                          type: object
                        when:
                          description: |-
                            Conditions for Authorino to enforce this config.
                            If omitted, the config will be enforced for all requests.
                            If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                          items:
                            properties:
                              all:
                                description: A list of pattern expressions to be evaluated
                                  as a logical AND.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              any:
                                description: A list of pattern expressions to be evaluated
                                  as a logical OR.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              operator:
                                description: |-
                                  The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                  Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                enum:
                                - eq
                                - neq
                                - incl
                                - excl
                                - matches
                                type: string
                              patternRef:
                                description: Reference to a named set of pattern expressions
                                type: string
                              predicate:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a boolean.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  Authorino custom JSON path modifiers are also supported.
                                type: string
                              value:
                                description: |-
                                  The value of reference for the comparison with the content fetched from the authorization JSON.
                                  If used with the "matches" operator, the value must compile to a valid Golang regex.
                                type: string
                            type: object
                          type: array
                      type: object
                    description: |-
                      Authorization policies.
                      All policies MUST evaluate to "allowed = true" for the auth request be successful.
                    type: object
                  callbacks:
                    additionalProperties:
                      properties:
                        cache:
                          description: |-
                            Caching options for the resolved object returned when applying this config.
                            Omit it to avoid caching objects for this config.
                          properties:
                            key:
                              description: |-
                                Key used to store the entry in the cache.
                                The resolved key must be unique within the scope of this particular config.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            ttl:
                              default: 60
                              description: Duration (in seconds) of the external data
                                in the cache before pulled again from the source.
                              type: integer
                          required:
                          - key
                          type: object
                        http:
                          description: Settings of the external HTTP request
                          properties:
                            body:
                              description: |-
                                Raw body of the HTTP request.
                                Supersedes 'bodyParameters'; use either one or the other.
                                Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            bodyParameters:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: |-
                                Custom parameters to encode in the body of the HTTP request.
                                Superseded by 'body'; use either one or the other.
                                Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                              type: object
                            contentType:
                              default: application/x-www-form-urlencoded
                              description: |-
                                Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                              enum:
                              - application/x-www-form-urlencoded
                              - application/json
                              type: string
                            credentials:
                              description: |-
                                Defines where client credentials will be passed in the request to the service.
                                If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                              properties:
                                authorizationHeader:
                                  properties:
                                    prefix:
                                      type: string
                                  type: object
                                cookie:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                customHeader:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                queryString:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                              type: object
                            headers:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: Custom headers in the HTTP request.
                              type: object
                            method:
                              default: GET
                              description: |-
                                HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                When the request method is POST, the authorization JSON is passed in the body of the request.
                              enum:
                              - GET
                              - POST
                              - PUT
                              - PATCH
                              - DELETE
                              - HEAD
                              - OPTIONS
                              - CONNECT
                              - TRACE
                              type: string
                            oauth2:
                              description: Authentication with the HTTP service by
                                OAuth2 Client Credentials grant.
                              properties:
                                cache:
                                  default: true
                                  description: |-
                                    Caches and reuses the token until expired.
                                    Set it to false to force fetch the token at every authorization request regardless of expiration.
                                  type: boolean
                                clientId:
                                  description: OAuth2 Client ID.
                                  type: string
                                clientSecretRef:
                                  description: Reference to a Kuberentes Secret key
                                    that stores that OAuth2 Client Secret.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                extraParams:
                                  additionalProperties:
                                    type: string
                                  description: Optional extra parameters for the requests
                                    to the token URL.
                                  type: object
                                scopes:
                                  description: Optional scopes for the client credentials
                                    grant, if supported by he OAuth2 server.
                                  items:
                                    type: string
                                  type: array
                                tokenUrl:
                                  description: Token endpoint URL of the OAuth2 resource
                                    server.
                                  type: string
                              required:
                              - clientId
                              - clientSecretRef
                              - tokenUrl
                              type: object
                            sharedSecretRef:
                              description: |-
                                Reference to a Secret key whose value will be passed by Authorino in the request.
                                The HTTP service can use the shared secret to authenticate the origin of the request.
                                Ignored if used together with oauth2.
                              properties:
                                key:
                                  description: The key of the secret to select from.  Must
                                    be a valid secret key.
                                  type: string
                                name:
                                  description: The name of the secret in the Authorino's
                                    namespace to select from.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            url:
                              description: |-
                                Endpoint URL of the HTTP service.
                                The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                E.g. https://ext-auth-server.io/metadata?p={request.path}
                              type: string
                            urlExpression:
                              description: |-
                                A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                              type: string
                          type: object
                        metrics:
                          default: false
                          description: Whether this config should generate individual
                            observability metrics
                          type: boolean
                        priority:
                          default: 0
                          description: |-
                            Priority group of the config.
                            All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                          type: integer
                        when:
                          description: |-
                            Conditions for Authorino to enforce this config.
                            If omitted, the config will be enforced for all requests.
                            If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                          items:
                            properties:
                              all:
                                description: A list of pattern expressions to be evaluated
                                  as a logical AND.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              any:
                                description: A list of pattern expressions to be evaluated
                                  as a logical OR.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              operator:
                                description: |-
                                  The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                  Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                enum:
                                - eq
                                - neq
                                - incl
                                - excl
                                - matches
                                type: string
                              patternRef:
                                description: Reference to a named set of pattern expressions
                                type: string
                              predicate:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a boolean.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  Authorino custom JSON path modifiers are also supported.
                                type: string
                              value:
                                description: |-
                                  The value of reference for the comparison with the content fetched from the authorization JSON.
                                  If used with the "matches" operator, the value must compile to a valid Golang regex.
                                type: string
                            type: object
                          type: array
                      required:
                      - http
                      type: object
                    description: |-
                      Callback functions.
                      Authorino sends callbacks at the end of the auth pipeline to the endpoints specified in this config.
                    type: object
                  metadata:
                    additionalProperties:
                      properties:
                        cache:
                          description: |-
                            Caching options for the resolved object returned when applying this config.
                            Omit it to avoid caching objects for this config.
                          properties:
                            key:
                              description: |-
                                Key used to store the entry in the cache.
                                The resolved key must be unique within the scope of this particular config.
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            ttl:
                              default: 60
                              description: Duration (in seconds) of the external data
                                in the cache before pulled again from the source.
                              type: integer
                          required:
                          - key
                          type: object
                        http:
                          description: External source of auth metadata via HTTP request
                          properties:
                            body:
                              description: |-
                                Raw body of the HTTP request.
                                Supersedes 'bodyParameters'; use either one or the other.
                                Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            bodyParameters:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: |-
                                Custom parameters to encode in the body of the HTTP request.
                                Superseded by 'body'; use either one or the other.
                                Use it with method=POST; for GET requests, set parameters as query string in the 'endpoint' (placeholders can be used).
                              type: object
                            contentType:
                              default: application/x-www-form-urlencoded
                              description: |-
                                Content-Type of the request body. Shapes how 'bodyParameters' are encoded.
                                Use it with method=POST; for GET requests, Content-Type is automatically set to 'text/plain'.
                              enum:
                              - application/x-www-form-urlencoded
                              - application/json
                              type: string
                            credentials:
                              description: |-
                                Defines where client credentials will be passed in the request to the service.
                                If omitted, it defaults to client credentials passed in the HTTP Authorization header and the "Bearer" prefix expected prepended to the secret value.
                              properties:
                                authorizationHeader:
                                  properties:
                                    prefix:
                                      type: string
                                  type: object
                                cookie:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                customHeader:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                                queryString:
                                  properties:
                                    name:
                                      type: string
                                  required:
                                  - name
                                  type: object
                              type: object
                            headers:
                              additionalProperties:
                                properties:
                                  expression:
                                    description: |-
                                      A Common Expression Language (CEL) expression that evaluates to a value.
                                      String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                    type: string
                                  selector:
                                    description: |-
                                      Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                      Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                      The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                    type: string
                                  value:
                                    description: Static value
                                    x-kubernetes-preserve-unknown-fields: true
                                type: object
                              description: Custom headers in the HTTP request.
                              type: object
                            method:
                              default: GET
                              description: |-
                                HTTP verb used in the request to the service. Accepted values: GET (default), POST.
                                When the request method is POST, the authorization JSON is passed in the body of the request.
                              enum:
                              - GET
                              - POST
                              - PUT
                              - PATCH
                              - DELETE
                              - HEAD
                              - OPTIONS
                              - CONNECT
                              - TRACE
                              type: string
                            oauth2:
                              description: Authentication with the HTTP service by
                                OAuth2 Client Credentials grant.
                              properties:
                                cache:
                                  default: true
                                  description: |-
                                    Caches and reuses the token until expired.
                                    Set it to false to force fetch the token at every authorization request regardless of expiration.
                                  type: boolean
                                clientId:
                                  description: OAuth2 Client ID.
                                  type: string
                                clientSecretRef:
                                  description: Reference to a Kuberentes Secret key
                                    that stores that OAuth2 Client Secret.
                                  properties:
                                    key:
                                      description: The key of the secret to select
                                        from.  Must be a valid secret key.
                                      type: string
                                    name:
                                      description: The name of the secret in the Authorino's
                                        namespace to select from.
                                      type: string
                                  required:
                                  - key
                                  - name
                                  type: object
                                extraParams:
                                  additionalProperties:
                                    type: string
                                  description: Optional extra parameters for the requests
                                    to the token URL.
                                  type: object
                                scopes:
                                  description: Optional scopes for the client credentials
                                    grant, if supported by he OAuth2 server.
                                  items:
                                    type: string
                                  type: array
                                tokenUrl:
                                  description: Token endpoint URL of the OAuth2 resource
                                    server.
                                  type: string
                              required:
                              - clientId
                              - clientSecretRef
                              - tokenUrl
                              type: object
                            sharedSecretRef:
                              description: |-
                                Reference to a Secret key whose value will be passed by Authorino in the request.
                                The HTTP service can use the shared secret to authenticate the origin of the request.
                                Ignored if used together with oauth2.
                              properties:
                                key:
                                  description: The key of the secret to select from.  Must
                                    be a valid secret key.
                                  type: string
                                name:
                                  description: The name of the secret in the Authorino's
                                    namespace to select from.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            url:
                              description: |-
                                Endpoint URL of the HTTP service.
                                The value can include variable placeholders in the format "{selector}", where "selector" is any pattern supported
                                by https://pkg.go.dev/github.com/tidwall/gjson and selects value from the authorization JSON.
                                E.g. https://ext-auth-server.io/metadata?p={request.path}
                              type: string
                            urlExpression:
                              description: |-
                                A Common Expression Language (CEL) expression that evaluates to a string endpoint URL of the HTTP service to call.
                                String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                              type: string
                          type: object
                        metrics:
                          default: false
                          description: Whether this config should generate individual
                            observability metrics
                          type: boolean
                        priority:
                          default: 0
                          description: |-
                            Priority group of the config.
                            All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                          type: integer
                        uma:
                          description: User-Managed Access (UMA) source of resource
                            data.
                          properties:
                            credentialsRef:
                              description: Reference to a Kubernetes secret in the
                                same namespace, that stores client credentials to
                                the resource registration API of the UMA server.
                              properties:
                                name:
                                  default: ""
                                  description: |-
                                    Name of the referent.
                                    This field is effectively required, but due to backwards compatibility is
                                    allowed to be empty. Instances of this type with an empty value here are
                                    almost certainly wrong.
                                    More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                  type: string
                              type: object
                              x-kubernetes-map-type: atomic
                            endpoint:
                              description: |-
                                The endpoint of the UMA server.
                                The value must coincide with the "issuer" claim of the UMA config discovered from the well-known uma configuration endpoint.
                              type: string
                          required:
                          - credentialsRef
                          - endpoint
                          type: object
                        userInfo:
                          description: OpendID Connect UserInfo linked to an OIDC
                            authentication config specified in this same AuthConfig.
                          properties:
                            identitySource:
                              description: |-
                                Name of an OIDC JWT authentication rule whose obtained configuration includes an "userinfo_endpoint" claim.
                                One of: identitySource, userInfoUrl
                              type: string
                            userInfoUrl:
                              description: |-
                                The URL of the UserInfo endpoint.
                                Use it for non-OIDC JWT authentication, where the UserInfo URL is known beforehand.
                                One of: identitySource, userInfoUrl
                              type: string
                          type: object
                          x-kubernetes-validations:
                          - message: 'Use one of: identitySource, userInfoUrl'
                            rule: '!(has(self.identitySource) && self.identitySource
                              != '''' && has(self.userInfoUrl) && self.userInfoUrl
                              != '''')'
                        when:
                          description: |-
                            Conditions for Authorino to enforce this config.
                            If omitted, the config will be enforced for all requests.
                            If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                          items:
                            properties:
                              all:
                                description: A list of pattern expressions to be evaluated
                                  as a logical AND.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              any:
                                description: A list of pattern expressions to be evaluated
                                  as a logical OR.
                                items:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                type: array
                              operator:
                                description: |-
                                  The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                  Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                enum:
                                - eq
                                - neq
                                - incl
                                - excl
                                - matches
                                type: string
                              patternRef:
                                description: Reference to a named set of pattern expressions
                                type: string
                              predicate:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a boolean.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  Authorino custom JSON path modifiers are also supported.
                                type: string
                              value:
                                description: |-
                                  The value of reference for the comparison with the content fetched from the authorization JSON.
                                  If used with the "matches" operator, the value must compile to a valid Golang regex.
                                type: string
                            type: object
                          type: array
                      type: object
                    description: |-
                      Metadata sources.
                      Authorino fetches auth metadata as JSON from sources specified in this config.
                    type: object
                  response:
                    description: |-
                      Response items.
                      Authorino builds custom responses to the client of the auth request.
                    properties:
                      success:
                        description: |-
                          Response items to be included in the auth response when the request is authenticated and authorized.
                          For integration of Authorino via proxy, the proxy must use these settings to propagate dynamic metadata and/or inject data in the request.
                        properties:
                          filters:
                            additionalProperties:
                              properties:
                                cache:
                                  description: |-
                                    Caching options for the resolved object returned when applying this config.
                                    Omit it to avoid caching objects for this config.
                                  properties:
                                    key:
                                      description: |-
                                        Key used to store the entry in the cache.
                                        The resolved key must be unique within the scope of this particular config.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    ttl:
                                      default: 60
                                      description: Duration (in seconds) of the external
                                        data in the cache before pulled again from
                                        the source.
                                      type: integer
                                  required:
                                  - key
                                  type: object
                                json:
                                  description: |-
                                    JSON object
                                    Specify it as the list of properties of the object, whose values can combine static values and values selected from the authorization JSON.
                                  properties:
                                    properties:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      type: object
                                  required:
                                  - properties
                                  type: object
                                key:
                                  description: |-
                                    The key used to add the custom response item (name of the HTTP header or root property of the Dynamic Metadata object).
                                    If omitted, it will be set to the name of the response config.
                                  type: string
                                metrics:
                                  default: false
                                  description: Whether this config should generate
                                    individual observability metrics
                                  type: boolean
                                plain:
                                  description: Plain text content
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                priority:
                                  default: 0
                                  description: |-
                                    Priority group of the config.
                                    All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                                  type: integer
                                when:
                                  description: |-
                                    Conditions for Authorino to enforce this config.
                                    If omitted, the config will be enforced for all requests.
                                    If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                                  items:
                                    properties:
                                      all:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical AND.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      any:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical OR.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      operator:
                                        description: |-
                                          The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                          Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                        enum:
                                        - eq
                                        - neq
                                        - incl
                                        - excl
                                        - matches
                                        type: string
                                      patternRef:
                                        description: Reference to a named set of pattern
                                          expressions
                                        type: string
                                      predicate:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a boolean.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          Authorino custom JSON path modifiers are also supported.
                                        type: string
                                      value:
                                        description: |-
                                          The value of reference for the comparison with the content fetched from the authorization JSON.
                                          If used with the "matches" operator, the value must compile to a valid Golang regex.
                                        type: string
                                    type: object
                                  type: array
                                wristband:
                                  description: Authorino Festival Wristband token
                                  properties:
                                    customClaims:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      description: Any claims to be added to the wristband
                                        token apart from the standard JWT claims (iss,
                                        iat, exp) added by default.
                                      type: object
                                    issuer:
                                      description: 'The endpoint to the Authorino
                                        service that issues the wristband (format:
                                        <scheme>://<host>:<port>/<realm>, where <realm>
                                        = <namespace>/<authorino-auth-config-resource-name/wristband-config-name)'
                                      type: string
                                    signingKeyRefs:
                                      description: |-
                                        Reference by name to Kubernetes secrets and corresponding signing algorithms.
                                        The secrets must contain a `key.pem` entry whose value is the signing key formatted as PEM.
                                      items:
                                        properties:
                                          algorithm:
                                            description: Algorithm to sign the wristband
                                              token using the signing key provided
                                            enum:
                                            - ES256
                                            - ES384
                                            - ES512
                                            - RS256
                                            - RS384
                                            - RS512
                                            type: string
                                          name:
                                            description: |-
                                              Name of the signing key.
                                              The value is used to reference the Kubernetes secret that stores the key and in the `kid` claim of the wristband token header.
                                            type: string
                                        required:
                                        - algorithm
                                        - name
                                        type: object
                                      type: array
                                    tokenDuration:
                                      description: Time span of the wristband token,
                                        in seconds.
                                      format: int64
                                      type: integer
                                  required:
                                  - issuer
                                  - signingKeyRefs
                                  type: object
                              type: object
                            description: Custom data made available to other filters
                              managed by Kuadrant (i.e. Rate Limit)
                            type: object
                          headers:
                            additionalProperties:
                              properties:
                                cache:
                                  description: |-
                                    Caching options for the resolved object returned when applying this config.
                                    Omit it to avoid caching objects for this config.
                                  properties:
                                    key:
                                      description: |-
                                        Key used to store the entry in the cache.
                                        The resolved key must be unique within the scope of this particular config.
                                      properties:
                                        expression:
                                          description: |-
                                            A Common Expression Language (CEL) expression that evaluates to a value.
                                            String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                          type: string
                                        selector:
                                          description: |-
                                            Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                            Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                            The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                          type: string
                                        value:
                                          description: Static value
                                          x-kubernetes-preserve-unknown-fields: true
                                      type: object
                                    ttl:
                                      default: 60
                                      description: Duration (in seconds) of the external
                                        data in the cache before pulled again from
                                        the source.
                                      type: integer
                                  required:
                                  - key
                                  type: object
                                json:
                                  description: |-
                                    JSON object
                                    Specify it as the list of properties of the object, whose values can combine static values and values selected from the authorization JSON.
                                  properties:
                                    properties:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      type: object
                                  required:
                                  - properties
                                  type: object
                                key:
                                  description: |-
                                    The key used to add the custom response item (name of the HTTP header or root property of the Dynamic Metadata object).
                                    If omitted, it will be set to the name of the response config.
                                  type: string
                                metrics:
                                  default: false
                                  description: Whether this config should generate
                                    individual observability metrics
                                  type: boolean
                                plain:
                                  description: Plain text content
                                  properties:
                                    expression:
                                      description: |-
                                        A Common Expression Language (CEL) expression that evaluates to a value.
                                        String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                      type: string
                                    selector:
                                      description: |-
                                        Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                        Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                        The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                      type: string
                                    value:
                                      description: Static value
                                      x-kubernetes-preserve-unknown-fields: true
                                  type: object
                                priority:
                                  default: 0
                                  description: |-
                                    Priority group of the config.
                                    All configs in the same priority group are evaluated concurrently; consecutive priority groups are evaluated sequentially.
                                  type: integer
                                when:
                                  description: |-
                                    Conditions for Authorino to enforce this config.
                                    If omitted, the config will be enforced for all requests.
                                    If present, all conditions must match for the config to be enforced; otherwise, the config will be skipped.
                                  items:
                                    properties:
                                      all:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical AND.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      any:
                                        description: A list of pattern expressions
                                          to be evaluated as a logical OR.
                                        items:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        type: array
                                      operator:
                                        description: |-
                                          The binary operator to be applied to the content fetched from the authorization JSON, for comparison with "value".
                                          Possible values are: "eq" (equal to), "neq" (not equal to), "incl" (includes; for arrays), "excl" (excludes; for arrays), "matches" (regex)
                                        enum:
                                        - eq
                                        - neq
                                        - incl
                                        - excl
                                        - matches
                                        type: string
                                      patternRef:
                                        description: Reference to a named set of pattern
                                          expressions
                                        type: string
                                      predicate:
                                        description: |-
                                          A Common Expression Language (CEL) expression that evaluates to a boolean.
                                          String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                        type: string
                                      selector:
                                        description: |-
                                          Path selector to fetch content from the authorization JSON (e.g. 'request.method').
                                          Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                          Authorino custom JSON path modifiers are also supported.
                                        type: string
                                      value:
                                        description: |-
                                          The value of reference for the comparison with the content fetched from the authorization JSON.
                                          If used with the "matches" operator, the value must compile to a valid Golang regex.
                                        type: string
                                    type: object
                                  type: array
                                wristband:
                                  description: Authorino Festival Wristband token
                                  properties:
                                    customClaims:
                                      additionalProperties:
                                        properties:
                                          expression:
                                            description: |-
                                              A Common Expression Language (CEL) expression that evaluates to a value.
                                              String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                            type: string
                                          selector:
                                            description: |-
                                              Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                              Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                              The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                            type: string
                                          value:
                                            description: Static value
                                            x-kubernetes-preserve-unknown-fields: true
                                        type: object
                                      description: Any claims to be added to the wristband
                                        token apart from the standard JWT claims (iss,
                                        iat, exp) added by default.
                                      type: object
                                    issuer:
                                      description: 'The endpoint to the Authorino
                                        service that issues the wristband (format:
                                        <scheme>://<host>:<port>/<realm>, where <realm>
                                        = <namespace>/<authorino-auth-config-resource-name/wristband-config-name)'
                                      type: string
                                    signingKeyRefs:
                                      description: |-
                                        Reference by name to Kubernetes secrets and corresponding signing algorithms.
                                        The secrets must contain a `key.pem` entry whose value is the signing key formatted as PEM.
                                      items:
                                        properties:
                                          algorithm:
                                            description: Algorithm to sign the wristband
                                              token using the signing key provided
                                            enum:
                                            - ES256
                                            - ES384
                                            - ES512
                                            - RS256
                                            - RS384
                                            - RS512
                                            type: string
                                          name:
                                            description: |-
                                              Name of the signing key.
                                              The value is used to reference the Kubernetes secret that stores the key and in the `kid` claim of the wristband token header.
                                            type: string
                                        required:
                                        - algorithm
                                        - name
                                        type: object
                                      type: array
                                    tokenDuration:
                                      description: Time span of the wristband token,
                                        in seconds.
                                      format: int64
                                      type: integer
                                  required:
                                  - issuer
                                  - signingKeyRefs
                                  type: object
                              type: object
                            description: Custom headers to inject in the request.
                            type: object
                        type: object
                      unauthenticated:
                        description: |-
                          Customizations on the denial status attributes when the request is unauthenticated.
                          For integration of Authorino via proxy, the proxy must honour the response status attributes specified in this config.
                          Default: 401 Unauthorized
                        properties:
                          body:
                            description: HTTP response body to override the default
                              denial body.
                            properties:
                              expression:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                type: string
                              value:
                                description: Static value
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                          code:
                            description: HTTP status code to override the default
                              denial status code.
                            format: int64
                            maximum: 599
                            minimum: 300
                            type: integer
                          headers:
                            additionalProperties:
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            description: HTTP response headers to override the default
                              denial headers.
                            type: object
                          message:
                            description: HTTP message to override the default denial
                              message.
                            properties:
                              expression:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                type: string
                              value:
                                description: Static value
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                        type: object
                      unauthorized:
                        description: |-
                          Customizations on the denial status attributes when the request is unauthorized.
                          For integration of Authorino via proxy, the proxy must honour the response status attributes specified in this config.
                          Default: 403 Forbidden
                        properties:
                          body:
                            description: HTTP response body to override the default
                              denial body.
                            properties:
                              expression:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                type: string
                              value:
                                description: Static value
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                          code:
                            description: HTTP status code to override the default
                              denial status code.
                            format: int64
                            maximum: 599
                            minimum: 300
                            type: integer
                          headers:
                            additionalProperties:
                              properties:
                                expression:
                                  description: |-
                                    A Common Expression Language (CEL) expression that evaluates to a value.
                                    String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                  type: string
                                selector:
                                  description: |-
                                    Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                    Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                    The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                  type: string
                                value:
                                  description: Static value
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                            description: HTTP response headers to override the default
                              denial headers.
                            type: object
                          message:
                            description: HTTP message to override the default denial
                              message.
                            properties:
                              expression:
                                description: |-
                                  A Common Expression Language (CEL) expression that evaluates to a value.
                                  String expressions are supported (https://pkg.go.dev/github.com/google/cel-go/ext#Strings).
                                type: string
                              selector:
                                description: |-
                                  Simple path selector to fetch content from the authorization JSON (e.g. 'request.method') or a string template with variables that resolve to patterns (e.g. "Hello, {auth.identity.name}!").
                                  Any pattern supported by https://pkg.go.dev/github.com/tidwall/gjson can be used.
                                  The following Authorino custom modifiers are supported: @extract:{sep:" ",pos:0}, @replace{old:"",new:""}, @case:upper|lower, @base64:encode|decode and @strip.
                                type: string
                              value:
                                description: Static value
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                        type: object
                    type: object
                type: object
              targetRef:
                description: Reference to the object to which this policy applies.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported values are 'HTTPRoute'
                    and 'Gateway'
                  rule: self.kind == 'HTTPRoute' || self.kind == 'Gateway'
              when:
                description: |-
                  Overall conditions for the policy to be enforced.
                  If omitted, the policy will be enforced at all requests to the protected routes.
                  If present, all conditions must match for the policy to be enforced.
                items:
                  description: Predicate defines one CEL expression that must be evaluated
                    to bool
                  properties:
                    predicate:
                      minLength: 1
                      type: string
                  required:
                  - predicate
                  type: object
                type: array
            required:
            - targetRef
            type: object
            x-kubernetes-validations:
            - message: Implicit and explicit defaults are mutually exclusive
              rule: '!(has(self.defaults) && (has(self.patterns) || has(self.when)
                || has(self.rules)))'
            - message: Implicit defaults and explicit overrides are mutually exclusive
              rule: '!(has(self.overrides) && (has(self.patterns) || has(self.when)
                || has(self.rules)))'
            - message: Explicit overrides and explicit defaults are mutually exclusive
              rule: '!(has(self.overrides) && has(self.defaults))'
            - message: At least one spec.rules must be defined
              rule: '!(has(self.overrides) || has(self.defaults)) ? has(self.rules)
                && ((has(self.rules.authentication) && size(self.rules.authentication)
                > 0) || (has(self.rules.metadata) && size(self.rules.metadata) > 0)
                || (has(self.rules.authorization) && size(self.rules.authorization)
                > 0) || (has(self.rules.response) && (has(self.rules.response.unauthenticated)
                || has(self.rules.response.unauthorized) || (has(self.rules.response.success)
                && (size(self.rules.response.success.headers) > 0 ||  size(self.rules.response.success.filters)
                > 0)))) || (has(self.rules.callbacks) && size(self.rules.callbacks)
                > 0)) : true'
            - message: At least one spec.defaults.rules must be defined
              rule: 'has(self.defaults) ? has(self.defaults.rules) && ((has(self.defaults.rules.authentication)
                && size(self.defaults.rules.authentication) > 0) || (has(self.defaults.rules.metadata)
                && size(self.defaults.rules.metadata) > 0) || (has(self.defaults.rules.authorization)
                && size(self.defaults.rules.authorization) > 0) || (has(self.defaults.rules.response)
                && (has(self.defaults.rules.response.unauthenticated) || has(self.defaults.rules.response.unauthorized)
                || (has(self.defaults.rules.response.success) && (size(self.defaults.rules.response.success.headers)
                > 0 ||  size(self.defaults.rules.response.success.filters) > 0))))
                || (has(self.defaults.rules.callbacks) && size(self.defaults.rules.callbacks)
                > 0)) : true'
            - message: At least one spec.overrides.rules must be defined
              rule: 'has(self.overrides) ? has(self.overrides.rules) && ((has(self.overrides.rules.authentication)
                && size(self.overrides.rules.authentication) > 0) || (has(self.overrides.rules.metadata)
                && size(self.overrides.rules.metadata) > 0) || (has(self.overrides.rules.authorization)
                && size(self.overrides.rules.authorization) > 0) || (has(self.overrides.rules.response)
                && (has(self.overrides.rules.response.unauthenticated) || has(self.overrides.rules.response.unauthorized)
                || (has(self.overrides.rules.response.success) && (size(self.overrides.rules.response.success.headers)
                > 0 ||  size(self.overrides.rules.response.success.filters) > 0))))
                || (has(self.overrides.rules.callbacks) && size(self.overrides.rules.callbacks)
                > 0)) : true'
          status:
            properties:
              conditions:
                description: |-
                  Represents the observations of a foo's current state.
                  Known .status.conditions.type are: "Available"
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    gateway.networking.k8s.io/policy: direct
  name: dnspolicies.kuadrant.io
spec:
  group: kuadrant.io
  names:
    kind: DNSPolicy
    listKind: DNSPolicyList
    plural: dnspolicies
    singular: dnspolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: DNSPolicy Accepted
      jsonPath: .status.conditions[?(@.type=="Accepted")].status
      name: Accepted
      priority: 2
      type: string
    - description: DNSPolicy Enforced
      jsonPath: .status.conditions[?(@.type=="Enforced")].status
      name: Enforced
      priority: 2
      type: string
    - description: DNSPolicy SubResourcesHealthy
      jsonPath: .status.conditions[?(@.type=="SubResourcesHealthy")].status
      name: SubResourcesHealthy
      priority: 2
      type: string
    - description: Type of the referenced Gateway API resource
      jsonPath: .spec.targetRef.kind
      name: TargetRefKind
      priority: 2
      type: string
    - description: Name of the referenced Gateway API resource
      jsonPath: .spec.targetRef.name
      name: TargetRefName
      priority: 2
      type: string
    - description: 'Name of the Listener section within the Gateway to which the policy
        applies '
      jsonPath: .spec.targetRef.sectionName
      name: TargetSection
      priority: 2
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: DNSPolicy is the Schema for the dnspolicies API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: DNSPolicySpec defines the desired state of DNSPolicy
            properties:
              delegate:
                type: boolean
                x-kubernetes-validations:
                - message: delegate is immutable
                  rule: self == oldSelf
              excludeAddresses:
                description: ExcludeAddresses is a list of addresses (either hostnames,
                  CIDR or IPAddresses) that DNSPolicy should not use as values in
                  the configured DNS provider records. The default is to allow all
                  addresses configured in the Gateway DNSPolicy is targeting
                items:
                  type: string
                maxItems: 20
                type: array
              healthCheck:
                description: |-
                  HealthCheckSpec configures health checks in the DNS provider.
                  By default this health check will be applied to each unique DNS A Record for
                  the listeners assigned to the target gateway
                properties:
                  additionalHeadersRef:
                    description: |-
                      AdditionalHeadersRef refers to a secret that contains extra headers to send in the probe request, this is primarily useful if an authentication
                      token is required by the endpoint.
                    properties:
                      name:
                        type: string
                    required:
                    - name
                    type: object
                  failureThreshold:
                    default: 5
                    description: |-
                      FailureThreshold is a limit of consecutive failures that must occur for a host to be considered unhealthy
                      Defaults to 5
                    type: integer
                    x-kubernetes-validations:
                    - message: Failure threshold must be greater than 0
                      rule: self > 0
                  interval:
                    default: 5m
                    description: |-
                      Interval defines how frequently this probe should execute
                      Defaults to 5 minutes
                    type: string
                  path:
                    description: |-
                      Path is the path to append to the host to reach the expected health check.
                      Must start with "?" or "/", contain only valid URL characters and end with alphanumeric char or "/". For example "/" or "/healthz" are common
                    pattern: ^(?:\?|\/)[\w\-.~:\/?#\[\]@!$&'()*+,;=]+(?:[a-zA-Z0-9]|\/){1}$
                    type: string
                  port:
                    default: 443
                    description: |-
                      Port to connect to the host on. Must be either 80, 443 or 1024-49151
                      Defaults to port 443
                    type: integer
                    x-kubernetes-validations:
                    - message: Only ports 80, 443, 1024-49151 are allowed
                      rule: self in [80, 443] || (self >= 1024 && self <= 49151)
                  protocol:
                    default: HTTPS
                    description: |-
                      Protocol to use when connecting to the host, valid values are "HTTP" or "HTTPS"
                      Defaults to HTTPS
                    type: string
                    x-kubernetes-validations:
                    - message: Only HTTP or HTTPS protocols are allowed
                      rule: self in ['HTTP','HTTPS']
                type: object
              loadBalancing:
                properties:
                  defaultGeo:
                    description: defaultGeo specifies if this is the default geo for
                      providers that support setting a default catch all geo endpoint
                      such as Route53.
                    type: boolean
                  geo:
                    description: |-
                      geo value to apply to geo endpoints.

                      The values accepted are determined by the target dns provider, please refer to the appropriate docs below.

                      Route53: https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-values-geo.html
                      Google: https://cloud.google.com/compute/docs/regions-zones
                      Azure: https://learn.microsoft.com/en-us/azure/traffic-manager/traffic-manager-geographic-regions
                    minLength: 2
                    type: string
                  weight:
                    default: 120
                    description: |-
                      weight value to apply to weighted endpoints.

                      The maximum value accepted is determined by the target dns provider, please refer to the appropriate docs below.

                      Route53: https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy-weighted.html
                      Google: https://cloud.google.com/dns/docs/overview/
                      Azure: https://learn.microsoft.com/en-us/azure/traffic-manager/traffic-manager-routing-methods#weighted-traffic-routing-method
                    type: integer
                required:
                - defaultGeo
                - geo
                - weight
                type: object
              providerRefs:
                description: providerRefs is a list of references to provider secrets.
                  Max is one but intention is to allow this to be more in the future
                items:
                  properties:
                    name:
                      type: string
                  required:
                  - name
                  type: object
                maxItems: 1
                type: array
              targetRef:
                description: targetRef identifies an API object to apply policy to.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported values are 'Gateway'
                  rule: self.kind == 'Gateway'
            required:
            - targetRef
            type: object
            x-kubernetes-validations:
            - message: delegate can't be set to true if unset
              rule: has(oldSelf.delegate) || !has(self.delegate) || self.delegate
                == false
            - message: delegate can't be unset if true
              rule: '!has(oldSelf.delegate) || oldSelf.delegate == false || has(self.delegate)'
            - message: delegate=true and providerRefs are mutually exclusive
              rule: '!(has(self.providerRefs) && has(self.delegate) && self.delegate
                == true)'
          status:
            description: DNSPolicyStatus defines the observed state of DNSPolicy
            properties:
              conditions:
                description: |-
                  conditions are any conditions associated with the policy

                  If configuring the policy fails, the "Failed" condition will be set with a
                  reason and message describing the cause of the failure.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              healthCheck:
                properties:
                  conditions:
                    items:
                      description: Condition contains details for one aspect of the
                        current state of this API Resource.
                      properties:
                        lastTransitionTime:
                          description: |-
                            lastTransitionTime is the last time the condition transitioned from one status to another.
                            This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                          format: date-time
                          type: string
                        message:
                          description: |-
                            message is a human readable message indicating details about the transition.
                            This may be an empty string.
                          maxLength: 32768
                          type: string
                        observedGeneration:
                          description: |-
                            observedGeneration represents the .metadata.generation that the condition was set based upon.
                            For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                            with respect to the current state of the instance.
                          format: int64
                          minimum: 0
                          type: integer
                        reason:
                          description: |-
                            reason contains a programmatic identifier indicating the reason for the condition's last transition.
                            Producers of specific condition types may define expected values and meanings for this field,
                            and whether the values are considered a guaranteed API.
                            The value should be a CamelCase string.
                            This field may not be empty.
                          maxLength: 1024
                          minLength: 1
                          pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                          type: string
                        status:
                          description: status of the condition, one of True, False,
                            Unknown.
                          enum:
                          - "True"
                          - "False"
                          - Unknown
                          type: string
                        type:
                          description: type of condition in CamelCase or in foo.example.com/CamelCase.
                          maxLength: 316
                          pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                          type: string
                      required:
                      - lastTransitionTime
                      - message
                      - reason
                      - status
                      - type
                      type: object
                    type: array
                  probes:
                    items:
                      properties:
                        conditions:
                          items:
                            description: Condition contains details for one aspect
                              of the current state of this API Resource.
                            properties:
                              lastTransitionTime:
                                description: |-
                                  lastTransitionTime is the last time the condition transitioned from one status to another.
                                  This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                                format: date-time
                                type: string
                              message:
                                description: |-
                                  message is a human readable message indicating details about the transition.
                                  This may be an empty string.
                                maxLength: 32768
                                type: string
                              observedGeneration:
                                description: |-
                                  observedGeneration represents the .metadata.generation that the condition was set based upon.
                                  For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                                  with respect to the current state of the instance.
                                format: int64
                                minimum: 0
                                type: integer
                              reason:
                                description: |-
                                  reason contains a programmatic identifier indicating the reason for the condition's last transition.
                                  Producers of specific condition types may define expected values and meanings for this field,
                                  and whether the values are considered a guaranteed API.
                                  The value should be a CamelCase string.
                                  This field may not be empty.
                                maxLength: 1024
                                minLength: 1
                                pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                                type: string
                              status:
                                description: status of the condition, one of True,
                                  False, Unknown.
                                enum:
                                - "True"
                                - "False"
                                - Unknown
                                type: string
                              type:
                                description: type of condition in CamelCase or in
                                  foo.example.com/CamelCase.
                                maxLength: 316
                                pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                                type: string
                            required:
                            - lastTransitionTime
                            - message
                            - reason
                            - status
                            - type
                            type: object
                          type: array
                        host:
                          type: string
                        id:
                          type: string
                        ipAddress:
                          type: string
                        synced:
                          type: boolean
                      required:
                      - host
                      - id
                      - ipAddress
                      type: object
                    type: array
                type: object
              observedGeneration:
                description: |-
                  observedGeneration is the most recently observed generation of the
                  DNSPolicy.  When the DNSPolicy is updated, the controller updates the
                  corresponding configuration. If an update fails, that failure is
                  recorded in the status condition
                format: int64
                type: integer
              recordConditions:
                additionalProperties:
                  items:
                    description: Condition contains details for one aspect of the
                      current state of this API Resource.
                    properties:
                      lastTransitionTime:
                        description: |-
                          lastTransitionTime is the last time the condition transitioned from one status to another.
                          This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                        format: date-time
                        type: string
                      message:
                        description: |-
                          message is a human readable message indicating details about the transition.
                          This may be an empty string.
                        maxLength: 32768
                        type: string
                      observedGeneration:
                        description: |-
                          observedGeneration represents the .metadata.generation that the condition was set based upon.
                          For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                          with respect to the current state of the instance.
                        format: int64
                        minimum: 0
                        type: integer
                      reason:
                        description: |-
                          reason contains a programmatic identifier indicating the reason for the condition's last transition.
                          Producers of specific condition types may define expected values and meanings for this field,
                          and whether the values are considered a guaranteed API.
                          The value should be a CamelCase string.
                          This field may not be empty.
                        maxLength: 1024
                        minLength: 1
                        pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                        type: string
                      status:
                        description: status of the condition, one of True, False,
                          Unknown.
                        enum:
                        - "True"
                        - "False"
                        - Unknown
                        type: string
                      type:
                        description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        maxLength: 316
                        pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                        type: string
                    required:
                    - lastTransitionTime
                    - message
                    - reason
                    - status
                    - type
                    type: object
                  type: array
                type: object
              totalRecords:
                description: TotalRecords records the total number of individual DNSRecords
                  managed by this DNSPolicy
                format: int32
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: kuadrants.kuadrant.io
spec:
  group: kuadrant.io
  names:
    kind: Kuadrant
    listKind: KuadrantList
    plural: kuadrants
    singular: kuadrant
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[0].reason
      name: Status
      priority: 2
      type: string
    - jsonPath: .status.mtlsAuthorino
      name: mTLS Authorino
      type: boolean
    - jsonPath: .status.mtlsLimitador
      name: mTLS Limitador
      type: boolean
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: Kuadrant configures installations of Kuadrant Service Protection
          components
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: KuadrantSpec defines the desired state of Kuadrant
            properties:
              components:
                description: Components configures optional Kuadrant components
                properties:
                  developerPortal:
                    description: DeveloperPortal enables the developer portal integration
                      including APIProduct and APIKeyRequest CRDs
                    properties:
                      enabled:
                        type: boolean
                    type: object
                type: object
              mtls:
                description: |-
                  MTLS is an optional entry which when enabled is set to true, kuadrant-operator
                  will add the configuration required to enable mTLS between an Istio provided
                  gateway and the Kuadrant components.
                properties:
                  authorino:
                    type: boolean
                  enable:
                    type: boolean
                  limitador:
                    type: boolean
                type: object
              observability:
                description: |-
                  Observability configures telemetry and monitoring settings for Kuadrant components.
                  When enabled, it configures logging, tracing, and other observability features for both
                  the control plane and data plane components.
                properties:
                  dataPlane:
                    description: DataPlane configures observability settings for the
                      data plane components.
                    properties:
                      defaultLevels:
                        description: |-
                          DefaultLevels specifies the default logging levels and their activation predicates.
                          Each entry defines a log level (debug, info, warn, error) and an optional CEL expression
                          that determines when that level should be active for a given request.
                        items:
                          description: |-
                            LogLevel defines a logging level with its activation predicate
                            Only one field should be set per LogLevel entry
                          properties:
                            debug:
                              description: Debug level - highest verbosity
                              type: string
                            error:
                              description: Error level - lowest verbosity
                              type: string
                            info:
                              description: Info level
                              type: string
                            warn:
                              description: Warn level
                              type: string
                          type: object
                        type: array
                      httpHeaderIdentifier:
                        description: |-
                          HTTPHeaderIdentifier specifies the HTTP header name used to identify and correlate
                          requests in logs and traces (e.g., "x-request-id", "x-correlation-id").
                          If set, this header value will be included in log output for request correlation.
                        type: string
                    type: object
                  enable:
                    description: |-
                      Enable controls whether observability features are active.
                      When false, no additional logging or tracing configuration is applied.
                    type: boolean
                  tracing:
                    description: Tracing configures distributed tracing for request
                      flows through the system.
                    properties:
                      defaultEndpoint:
                        description: |-
                          DefaultEndpoint is the default URL of the tracing collector backend where spans should be sent.
                          Can be overridden per-gateway in future versions.
                        type: string
                      insecure:
                        description: Insecure controls whether to skip TLS certificate
                          verification.
                        type: boolean
                    type: object
                type: object
            type: object
          status:
            description: KuadrantStatus defines the observed state of Kuadrant
            properties:
              conditions:
                description: |-
                  Represents the observations of a foo's current state.
                  Known .status.conditions.type are: "Available"
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              mtlsAuthorino:
                description: Mtls Authorino reflects the mtls feature state regarding
                  comms with authorino.
                type: boolean
              mtlsLimitador:
                description: Mtls Limitador reflects the mtls feature state regarding
                  comms with limitador.
                type: boolean
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: oidcpolicies.extensions.kuadrant.io
spec:
  group: extensions.kuadrant.io
  names:
    kind: OIDCPolicy
    listKind: OIDCPolicyList
    plural: oidcpolicies
    singular: oidcpolicy
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: OIDCPolicy is the Schema for the oidcpolicies API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: OIDCPolicySpec defines the desired state of OIDCPolicy
            properties:
              auth:
                description: Auth holds the information regarding AuthN/AuthZ
                properties:
                  claims:
                    additionalProperties:
                      type: string
                    description: Claims contains the JWT Claims https://www.rfc-editor.org/rfc/rfc7519.html#section-4
                    type: object
                  tokenSource:
                    description: |-
                      TokenSource informs where the JWT token will be found in the request for authentication
                      If omitted, it defaults to credentials passed in cookies.
                    properties:
                      authorizationHeader:
                        properties:
                          prefix:
                            type: string
                        type: object
                      cookie:
                        properties:
                          name:
                            type: string
                        required:
                        - name
                        type: object
                      customHeader:
                        properties:
                          name:
                            type: string
                        required:
                        - name
                        type: object
                      queryString:
                        properties:
                          name:
                            type: string
                        required:
                        - name
                        type: object
                    type: object
                type: object
              provider:
                description: Provider holds the information for the OIDC provider
                properties:
                  authorizationEndpoint:
                    description: |-
                      The full URL of the Authorization endpoints
                      AuthorizationEndpoint performs Authentication of the End-User. Default value is the IssuerURL + "/oauth/authorize"
                    type: string
                  clientID:
                    description: OAuth2 Client ID.
                    type: string
                  issuerURL:
                    description: |-
                      URL of the OpenID Connect (OIDC) token issuer endpoint.
                      Use it for automatically discovering the JWKS URL from an OpenID Connect Discovery endpoint (https://openid.net/specs/openid-connect-discovery-1_0.html).
                      The Well-Known Discovery path (i.e. "/.well-known/openid-configuration") is appended to this URL to fetch the OIDC configuration.
                      One of: jwksUrl, issuerUrl
                    type: string
                  jwksURL:
                    description: |-
                      URL of the JSON Web Key Set (JWKS) endpoint.
                      Use it for non-OpenID Connect (OIDC) JWT authentication, where the JWKS URL is known beforehand.
                      One of: jwksUrl, issuerUrl
                    type: string
                  redirectURI:
                    description: The RedirectURI defines the URL that is part of the
                      authentication request to the AuthorizationEndpoint and the
                      one defined in the IDP. Default value is the IssuerURL + "/auth/callback"
                    type: string
                  tokenEndpoint:
                    description: TokenEndpoint defines the URL to obtain an Access
                      Token, an ID Token, and optionally a Refresh Token. Default
                      value is the IssuerURL + "/oauth/token"
                    type: string
                required:
                - clientID
                type: object
                x-kubernetes-validations:
                - message: 'Use one of: jwksURL, issuerURL'
                  rule: '!(has(self.jwksURL) && self.jwksURL != '''' && has(self.issuerURL)
                    && self.issuerURL != '''')'
                - message: When jwksURL is set, authorizationEndpoint and tokenEndpoint
                    must also be provided
                  rule: '!(has(self.jwksURL) && self.jwksURL != '''') || (has(self.authorizationEndpoint)
                    && self.authorizationEndpoint != '''' && has(self.tokenEndpoint)
                    && self.tokenEndpoint != '''')'
              targetRef:
                description: Reference to the object to which this policy applies.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported values are 'HTTPRoute'
                    and 'Gateway'
                  rule: self.kind == 'HTTPRoute' || self.kind == 'Gateway'
            required:
            - provider
            - targetRef
            type: object
          status:
            description: OIDCPolicyStatus defines the observed state of OIDCPolicy
            properties:
              conditions:
                description: |-
                  Represents the observations of a OIDCPolicy's current state.
                  Known .status.conditions.type are: "Ready"
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: planpolicies.extensions.kuadrant.io
spec:
  group: extensions.kuadrant.io
  names:
    kind: PlanPolicy
    listKind: PlanPolicyList
    plural: planpolicies
    singular: planpolicy
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: PlanPolicy enables rate limiting through plans of identified
          requests
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: PlanPolicySpec defines the desired state of PlanPolicy
            properties:
              plans:
                description: Plans defines the list of plans for the policy. The identity
                  is categorised by the first matching plan in the list.
                items:
                  properties:
                    limits:
                      description: Limits contains the list of limits that the plan
                        enforces.
                      properties:
                        custom:
                          description: Custom defines any additional limits defined
                            in terms of a RateLimitPolicy Rate.
                          items:
                            description: Rate defines the actual rate limit that will
                              be used when there is a match
                            properties:
                              limit:
                                description: Limit defines the max value allowed for
                                  a given period of time
                                type: integer
                              window:
                                description: Window defines the time period for which
                                  the Limit specified above applies.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                            required:
                            - limit
                            - window
                            type: object
                          type: array
                        daily:
                          description: Daily limit of requests for this plan.
                          type: integer
                        monthly:
                          description: Monthly limit of requests for this plan.
                          type: integer
                        weekly:
                          description: Weekly limit of requests for this plan.
                          type: integer
                        yearly:
                          description: Yearly limit of requests for this plan.
                          type: integer
                      type: object
                    predicate:
                      description: Predicate is a CEL expression used to determine
                        if the plan is applied.
                      minLength: 1
                      type: string
                    tier:
                      description: Tier this plan represents.
                      type: string
                  required:
                  - predicate
                  - tier
                  type: object
                type: array
              targetRef:
                description: Reference to the object to which this policy applies.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported values are 'HTTPRoute'
                    and 'Gateway'
                  rule: self.kind == 'HTTPRoute' || self.kind == 'Gateway'
            required:
            - plans
            - targetRef
            type: object
          status:
            description: PlanPolicyStatus defines the observed state of PlanPolicy
            properties:
              conditions:
                description: |-
                  Represents the observations of a PlanPolicy's current state.
                  Known .status.conditions.type are: "Accepted", "Enforced"
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    gateway.networking.k8s.io/policy: inherited
  name: ratelimitpolicies.kuadrant.io
spec:
  group: kuadrant.io
  names:
    kind: RateLimitPolicy
    listKind: RateLimitPolicyList
    plural: ratelimitpolicies
    singular: ratelimitpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: RateLimitPolicy Accepted
      jsonPath: .status.conditions[?(@.type=="Accepted")].status
      name: Accepted
      priority: 2
      type: string
    - description: RateLimitPolicy Enforced
      jsonPath: .status.conditions[?(@.type=="Enforced")].status
      name: Enforced
      priority: 2
      type: string
    - description: Kind of the object to which the policy applies
      jsonPath: .spec.targetRef.kind
      name: TargetKind
      priority: 2
      type: string
    - description: Name of the object to which the policy applies
      jsonPath: .spec.targetRef.name
      name: TargetName
      priority: 2
      type: string
    - description: 'Name of the section within the object to which the policy applies '
      jsonPath: .spec.targetRef.sectionName
      name: TargetSection
      priority: 2
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: RateLimitPolicy enables rate limiting for service workloads in
          a Gateway API network
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              defaults:
                description: |-
                  Rules to apply as defaults. Can be overridden by more specific policiy rules lower in the hierarchy and by less specific policy overrides.
                  Use one of: defaults, overrides, or bare set of policy rules (implicit defaults).
                properties:
                  limits:
                    additionalProperties:
                      description: Limit represents a complete rate limit configuration
                      properties:
                        counters:
                          description: Counters defines additional rate limit counters
                            based on CEL expressions which can reference well known
                            selectors
                          items:
                            properties:
                              expression:
                                description: |-
                                  Expression defines one CEL expression
                                  Expression can use well known attributes
                                  Attributes: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                                  Well-known selectors: https://github.com/Kuadrant/architecture/blob/main/rfcs/0001-rlp-v2.md#well-known-selectors
                                  They are named by a dot-separated path (e.g. request.path)
                                  Example: "request.path" -> The path portion of the URL
                                minLength: 1
                                type: string
                            required:
                            - expression
                            type: object
                          type: array
                        rates:
                          description: Rates holds the list of limit rates
                          items:
                            description: Rate defines the actual rate limit that will
                              be used when there is a match
                            properties:
                              limit:
                                description: Limit defines the max value allowed for
                                  a given period of time
                                type: integer
                              window:
                                description: Window defines the time period for which
                                  the Limit specified above applies.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                            required:
                            - limit
                            - window
                            type: object
                          type: array
                        when:
                          description: |-
                            When holds a list of "limit-level" `Predicate`s
                            Called also "soft" conditions as route selectors must also match
                          items:
                            description: Predicate defines one CEL expression that
                              must be evaluated to bool
                            properties:
                              predicate:
                                minLength: 1
                                type: string
                            required:
                            - predicate
                            type: object
                          type: array
                      type: object
                    description: Limits holds the struct of limits indexed by a unique
                      name
                    type: object
                  strategy:
                    default: atomic
                    description: Strategy defines the merge strategy to apply when
                      merging this policy with other policies.
                    enum:
                    - atomic
                    - merge
                    type: string
                  when:
                    description: |-
                      Overall conditions for the policy to be enforced.
                      If omitted, the policy will be enforced at all requests to the protected routes.
                      If present, all conditions must match for the policy to be enforced.
                    items:
                      description: Predicate defines one CEL expression that must
                        be evaluated to bool
                      properties:
                        predicate:
                          minLength: 1
                          type: string
                      required:
                      - predicate
                      type: object
                    type: array
                type: object
              limits:
                additionalProperties:
                  description: Limit represents a complete rate limit configuration
                  properties:
                    counters:
                      description: Counters defines additional rate limit counters
                        based on CEL expressions which can reference well known selectors
                      items:
                        properties:
                          expression:
                            description: |-
                              Expression defines one CEL expression
                              Expression can use well known attributes
                              Attributes: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                              Well-known selectors: https://github.com/Kuadrant/architecture/blob/main/rfcs/0001-rlp-v2.md#well-known-selectors
                              They are named by a dot-separated path (e.g. request.path)
                              Example: "request.path" -> The path portion of the URL
                            minLength: 1
                            type: string
                        required:
                        - expression
                        type: object
                      type: array
                    rates:
                      description: Rates holds the list of limit rates
                      items:
                        description: Rate defines the actual rate limit that will
                          be used when there is a match
                        properties:
                          limit:
                            description: Limit defines the max value allowed for a
                              given period of time
                            type: integer
                          window:
                            description: Window defines the time period for which
                              the Limit specified above applies.
                            pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                            type: string
                        required:
                        - limit
                        - window
                        type: object
                      type: array
                    when:
                      description: |-
                        When holds a list of "limit-level" `Predicate`s
                        Called also "soft" conditions as route selectors must also match
                      items:
                        description: Predicate defines one CEL expression that must
                          be evaluated to bool
                        properties:
                          predicate:
                            minLength: 1
                            type: string
                        required:
                        - predicate
                        type: object
                      type: array
                  type: object
                description: Limits holds the struct of limits indexed by a unique
                  name
                type: object
              overrides:
                description: |-
                  Rules to apply as overrides. Override all policy rules lower in the hierarchy. Can be overridden by less specific policy overrides.
                  Use one of: defaults, overrides, or bare set of policy rules (implicit defaults).
                properties:
                  limits:
                    additionalProperties:
                      description: Limit represents a complete rate limit configuration
                      properties:
                        counters:
                          description: Counters defines additional rate limit counters
                            based on CEL expressions which can reference well known
                            selectors
                          items:
                            properties:
                              expression:
                                description: |-
                                  Expression defines one CEL expression
                                  Expression can use well known attributes
                                  Attributes: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                                  Well-known selectors: https://github.com/Kuadrant/architecture/blob/main/rfcs/0001-rlp-v2.md#well-known-selectors
                                  They are named by a dot-separated path (e.g. request.path)
                                  Example: "request.path" -> The path portion of the URL
                                minLength: 1
                                type: string
                            required:
                            - expression
                            type: object
                          type: array
                        rates:
                          description: Rates holds the list of limit rates
                          items:
                            description: Rate defines the actual rate limit that will
                              be used when there is a match
                            properties:
                              limit:
                                description: Limit defines the max value allowed for
                                  a given period of time
                                type: integer
                              window:
                                description: Window defines the time period for which
                                  the Limit specified above applies.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                            required:
                            - limit
                            - window
                            type: object
                          type: array
                        when:
                          description: |-
                            When holds a list of "limit-level" `Predicate`s
                            Called also "soft" conditions as route selectors must also match
                          items:
                            description: Predicate defines one CEL expression that
                              must be evaluated to bool
                            properties:
                              predicate:
                                minLength: 1
                                type: string
                            required:
                            - predicate
                            type: object
                          type: array
                      type: object
                    description: Limits holds the struct of limits indexed by a unique
                      name
                    type: object
                  strategy:
                    default: atomic
                    description: Strategy defines the merge strategy to apply when
                      merging this policy with other policies.
                    enum:
                    - atomic
                    - merge
                    type: string
                  when:
                    description: |-
                      Overall conditions for the policy to be enforced.
                      If omitted, the policy will be enforced at all requests to the protected routes.
                      If present, all conditions must match for the policy to be enforced.
                    items:
                      description: Predicate defines one CEL expression that must
                        be evaluated to bool
                      properties:
                        predicate:
                          minLength: 1
                          type: string
                      required:
                      - predicate
                      type: object
                    type: array
                type: object
              targetRef:
                description: Reference to the object to which this policy applies.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported values are 'HTTPRoute'
                    and 'Gateway'
                  rule: self.kind == 'HTTPRoute' || self.kind == 'Gateway'
              when:
                description: |-
                  Overall conditions for the policy to be enforced.
                  If omitted, the policy will be enforced at all requests to the protected routes.
                  If present, all conditions must match for the policy to be enforced.
                items:
                  description: Predicate defines one CEL expression that must be evaluated
                    to bool
                  properties:
                    predicate:
                      minLength: 1
                      type: string
                  required:
                  - predicate
                  type: object
                type: array
            required:
            - targetRef
            type: object
            x-kubernetes-validations:
            - message: Implicit and explicit defaults are mutually exclusive
              rule: '!(has(self.defaults) && has(self.limits))'
            - message: Overrides and explicit defaults are mutually exclusive
              rule: '!(has(self.defaults) && has(self.overrides))'
            - message: Overrides and implicit defaults are mutually exclusive
              rule: '!(has(self.overrides) && has(self.limits))'
            - message: At least one spec.limits must be defined
              rule: '!(has(self.overrides) || has(self.defaults)) ? has(self.limits)
                && size(self.limits) > 0 : true'
            - message: At least one spec.overrides.limits must be defined
              rule: 'has(self.overrides) ? has(self.overrides.limits) && size(self.overrides.limits)
                > 0 : true'
            - message: At least one spec.defaults.limits must be defined
              rule: 'has(self.defaults) ? has(self.defaults.limits) && size(self.defaults.limits)
                > 0 : true'
          status:
            properties:
              conditions:
                description: |-
                  Represents the observations of a foo's current state.
                  Known .status.conditions.type are: "Available"
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: telemetrypolicies.extensions.kuadrant.io
spec:
  group: extensions.kuadrant.io
  names:
    kind: TelemetryPolicy
    listKind: TelemetryPolicyList
    plural: telemetrypolicies
    singular: telemetrypolicy
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          TelemetryPolicy enables custom metric labelling for Kuadrant data plane resources
          through the use of dynamically evaluated CEL expressions.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              metrics:
                description: Metrics holds the telemetry metrics configuration
                properties:
                  default:
                    description: Default metrics configuration that applies to all
                      requests
                    properties:
                      labels:
                        additionalProperties:
                          type: string
                        description: |-
                          Labels to add to metrics, where keys are label names and values are CEL expressions.
                          Only labels whose CEL expressions resolve successfully will be included.
                        minProperties: 1
                        type: object
                    required:
                    - labels
                    type: object
                required:
                - default
                type: object
              targetRef:
                description: Reference to the object to which this policy applies.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported value is 'Gateway'
                  rule: self.kind == 'Gateway'
            required:
            - metrics
            - targetRef
            type: object
          status:
            description: TelemetryPolicyStatus defines the observed state of TelemetryPolicy
            properties:
              conditions:
                description: |-
                  Represents the observations of a TelemetryPolicy's current state.
                  Known .status.conditions.type are: "Accepted", "Enforced"
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    gateway.networking.k8s.io/policy: direct
  name: tlspolicies.kuadrant.io
spec:
  group: kuadrant.io
  names:
    kind: TLSPolicy
    listKind: TLSPolicyList
    plural: tlspolicies
    singular: tlspolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: TLSPolicy Accepted
      jsonPath: .status.conditions[?(@.type=="Accepted")].status
      name: Accepted
      priority: 2
      type: string
    - description: TLSPolicy Enforced
      jsonPath: .status.conditions[?(@.type=="Enforced")].status
      name: Enforced
      priority: 2
      type: string
    - description: Type of the referenced Gateway API resource
      jsonPath: .spec.targetRef.kind
      name: TargetRefKind
      priority: 2
      type: string
    - description: Name of the referenced Gateway API resource
      jsonPath: .spec.targetRef.name
      name: TargetRefName
      priority: 2
      type: string
    - description: 'Name of the Listener section within the Gateway to which the policy
        applies '
      jsonPath: .spec.targetRef.sectionName
      name: TargetSection
      priority: 2
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: TLSPolicy is the Schema for the tlspolicies API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: TLSPolicySpec defines the desired state of TLSPolicy
            properties:
              commonName:
                description: |-
                  CommonName is a common name to be used on the Certificate.
                  The CommonName should have a length of 64 characters or fewer to avoid
                  generating invalid CSRs.
                  This value is ignored by TLS clients when any subject alt name is set.
                  This is x509 behaviour: https://tools.ietf.org/html/rfc6125#section-6.4.4
                type: string
              duration:
                description: |-
                  The requested 'duration' (i.e. lifetime) of the Certificate. This option
                  may be ignored/overridden by some issuer types. If unset this defaults to
                  90 days. Certificate will be renewed either 2/3 through its duration or
                  `renewBefore` period before its expiry, whichever is later. Minimum
                  accepted duration is 1 hour. Value must be in units accepted by Go
                  time.ParseDuration https://golang.org/pkg/time/#ParseDuration
                type: string
              issuerRef:
                description: |-
                  IssuerRef is a reference to the issuer for this certificate.
                  If the `kind` field is not set, or set to `Issuer`, an Issuer resource
                  with the given name in the same namespace as the Certificate will be used.
                  If the `kind` field is set to `ClusterIssuer`, a ClusterIssuer with the
                  provided name will be used.
                  The `name` field in this stanza is required at all times.
                properties:
                  group:
                    description: Group of the resource being referred to.
                    type: string
                  kind:
                    description: Kind of the resource being referred to.
                    type: string
                  name:
                    description: Name of the resource being referred to.
                    type: string
                required:
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid issuerRef.kind. The only supported values are blank,
                    'Issuer' and 'ClusterIssuer'
                  rule: '!has(self.kind) || self.kind in [''Issuer'', ''ClusterIssuer'']'
              privateKey:
                description: Options to control private keys used for the Certificate.
                properties:
                  algorithm:
                    description: |-
                      Algorithm is the private key algorithm of the corresponding private key
                      for this certificate.

                      If provided, allowed values are either `RSA`, `ECDSA` or `Ed25519`.
                      If `algorithm` is specified and `size` is not provided,
                      key size of 2048 will be used for `RSA` key algorithm and
                      key size of 256 will be used for `ECDSA` key algorithm.
                      key size is ignored when using the `Ed25519` key algorithm.
                    enum:
                    - RSA
                    - ECDSA
                    - Ed25519
                    type: string
                  encoding:
                    description: |-
                      The private key cryptography standards (PKCS) encoding for this
                      certificate's private key to be encoded in.

                      If provided, allowed values are `PKCS1` and `PKCS8` standing for PKCS#1
                      and PKCS#8, respectively.
                      Defaults to `PKCS1` if not specified.
                    enum:
                    - PKCS1
                    - PKCS8
                    type: string
                  rotationPolicy:
                    description: |-
                      RotationPolicy controls how private keys should be regenerated when a
                      re-issuance is being processed.

                      If set to `Never`, a private key will only be generated if one does not
                      already exist in the target `spec.secretName`. If one does exist but it
                      does not have the correct algorithm or size, a warning will be raised
                      to await user intervention.
                      If set to `Always`, a private key matching the specified requirements
                      will be generated whenever a re-issuance occurs.
                      Default is `Never` for backward compatibility.
                    enum:
                    - Never
                    - Always
                    type: string
                  size:
                    description: |-
                      Size is the key bit size of the corresponding private key for this certificate.

                      If `algorithm` is set to `RSA`, valid values are `2048`, `4096` or `8192`,
                      and will default to `2048` if not specified.
                      If `algorithm` is set to `ECDSA`, valid values are `256`, `384` or `521`,
                      and will default to `256` if not specified.
                      If `algorithm` is set to `Ed25519`, Size is ignored.
                      No other values are allowed.
                    type: integer
                type: object
              renewBefore:
                description: |-
                  How long before the currently issued certificate's expiry
                  cert-manager should renew the certificate. The default is 2/3 of the
                  issued certificate's duration. Minimum accepted value is 5 minutes.
                  Value must be in units accepted by Go time.ParseDuration
                  https://golang.org/pkg/time/#ParseDuration
                type: string
              revisionHistoryLimit:
                description: |-
                  RevisionHistoryLimit is the maximum number of CertificateRequest revisions
                  that are maintained in the Certificate's history. Each revision represents
                  a single `CertificateRequest` created by this Certificate, either when it
                  was created, renewed, or Spec was changed. Revisions will be removed by
                  oldest first if the number of revisions exceeds this number. If set,
                  revisionHistoryLimit must be a value of `1` or greater. If unset (`nil`),
                  revisions will not be garbage collected. Default value is `nil`.
                format: int32
                type: integer
              targetRef:
                description: TargetRef identifies an API object to apply policy to.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported values are 'Gateway'
                  rule: self.kind == 'Gateway'
              usages:
                description: |-
                  Usages is the set of x509 usages that are requested for the certificate.
                  Defaults to `digital signature` and `key encipherment` if not specified.
                items:
                  description: |-
                    KeyUsage specifies valid usage contexts for keys.
                    See:
                    https://tools.ietf.org/html/rfc5280#section-4.2.1.3
                    https://tools.ietf.org/html/rfc5280#section-4.2.1.12

                    Valid KeyUsage values are as follows:
                    "signing",
                    "digital signature",
                    "content commitment",
                    "key encipherment",
                    "key agreement",
                    "data encipherment",
                    "cert sign",
                    "crl sign",
                    "encipher only",
                    "decipher only",
                    "any",
                    "server auth",
                    "client auth",
                    "code signing",
                    "email protection",
                    "s/mime",
                    "ipsec end system",
                    "ipsec tunnel",
                    "ipsec user",
                    "timestamping",
                    "ocsp signing",
                    "microsoft sgc",
                    "netscape sgc"
                  enum:
                  - signing
                  - digital signature
                  - content commitment
                  - key encipherment
                  - key agreement
                  - data encipherment
                  - cert sign
                  - crl sign
                  - encipher only
                  - decipher only
                  - any
                  - server auth
                  - client auth
                  - code signing
                  - email protection
                  - s/mime
                  - ipsec end system
                  - ipsec tunnel
                  - ipsec user
                  - timestamping
                  - ocsp signing
                  - microsoft sgc
                  - netscape sgc
                  type: string
                type: array
            required:
            - issuerRef
            - targetRef
            type: object
          status:
            description: TLSPolicyStatus defines the observed state of TLSPolicy
            properties:
              conditions:
                description: |-
                  conditions are any conditions associated with the policy

                  If configuring the policy fails, the "Failed" condition will be set with a
                  reason and message describing the cause of the failure.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              observedGeneration:
                description: |-
                  observedGeneration is the most recently observed generation of the
                  TLSPolicy.  When the TLSPolicy is updated, the controller updates the
                  corresponding configuration. If an update fails, that failure is
                  recorded in the status condition
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    gateway.networking.k8s.io/policy: inherited
  name: tokenratelimitpolicies.kuadrant.io
spec:
  group: kuadrant.io
  names:
    kind: TokenRateLimitPolicy
    listKind: TokenRateLimitPolicyList
    plural: tokenratelimitpolicies
    singular: tokenratelimitpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: TokenRateLimitPolicy Accepted
      jsonPath: .status.conditions[?(@.type=="Accepted")].status
      name: Accepted
      priority: 2
      type: string
    - description: TokenRateLimitPolicy Enforced
      jsonPath: .status.conditions[?(@.type=="Enforced")].status
      name: Enforced
      priority: 2
      type: string
    - description: Kind of the object to which the policy applies
      jsonPath: .spec.targetRef.kind
      name: TargetKind
      priority: 2
      type: string
    - description: Name of the object to which the policy applies
      jsonPath: .spec.targetRef.name
      name: TargetName
      priority: 2
      type: string
    - description: 'Name of the section within the object to which the policy applies '
      jsonPath: .spec.targetRef.sectionName
      name: TargetSection
      priority: 2
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: TokenRateLimitPolicy enables token-based rate limiting for service
          workloads in a Gateway API network
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              defaults:
                description: |-
                  Rules to apply as defaults. Can be overridden by more specific policy rules lower in the hierarchy and by less specific policy overrides.
                  Use one of: defaults, overrides, or bare set of policy rules (implicit defaults).
                properties:
                  limits:
                    additionalProperties:
                      description: TokenLimit represents a complete token-based rate
                        limit configuration
                      properties:
                        counters:
                          description: Counters defines additional rate limit counters
                            based on CEL expressions which can reference well known
                            selectors
                          items:
                            properties:
                              expression:
                                description: |-
                                  Expression defines one CEL expression
                                  Expression can use well known attributes
                                  Attributes: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                                  Well-known selectors: https://github.com/Kuadrant/architecture/blob/main/rfcs/0001-rlp-v2.md#well-known-selectors
                                  They are named by a dot-separated path (e.g. request.path)
                                  Example: "request.path" -> The path portion of the URL
                                minLength: 1
                                type: string
                            required:
                            - expression
                            type: object
                          type: array
                        rates:
                          description: Rates holds the list of limit rates for token-based
                            limiting
                          items:
                            description: Rate defines the actual rate limit that will
                              be used when there is a match
                            properties:
                              limit:
                                description: Limit defines the max value allowed for
                                  a given period of time
                                type: integer
                              window:
                                description: Window defines the time period for which
                                  the Limit specified above applies.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                            required:
                            - limit
                            - window
                            type: object
                          type: array
                        when:
                          description: |-
                            When holds a list of "limit-level" `Predicate`s for token-based conditions
                            Called also "soft" conditions as route selectors must also match
                          items:
                            description: Predicate defines one CEL expression that
                              must be evaluated to bool
                            properties:
                              predicate:
                                minLength: 1
                                type: string
                            required:
                            - predicate
                            type: object
                          type: array
                      type: object
                    description: Limits holds the struct of token-based limits indexed
                      by a unique name
                    type: object
                  strategy:
                    default: atomic
                    description: Strategy defines the merge strategy to apply when
                      merging this policy with other policies.
                    enum:
                    - atomic
                    - merge
                    type: string
                  when:
                    description: |-
                      Overall conditions for the policy to be enforced.
                      If omitted, the policy will be enforced at all requests to the protected routes.
                      If present, all conditions must match for the policy to be enforced.
                    items:
                      description: Predicate defines one CEL expression that must
                        be evaluated to bool
                      properties:
                        predicate:
                          minLength: 1
                          type: string
                      required:
                      - predicate
                      type: object
                    type: array
                type: object
              limits:
                additionalProperties:
                  description: TokenLimit represents a complete token-based rate limit
                    configuration
                  properties:
                    counters:
                      description: Counters defines additional rate limit counters
                        based on CEL expressions which can reference well known selectors
                      items:
                        properties:
                          expression:
                            description: |-
                              Expression defines one CEL expression
                              Expression can use well known attributes
                              Attributes: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                              Well-known selectors: https://github.com/Kuadrant/architecture/blob/main/rfcs/0001-rlp-v2.md#well-known-selectors
                              They are named by a dot-separated path (e.g. request.path)
                              Example: "request.path" -> The path portion of the URL
                            minLength: 1
                            type: string
                        required:
                        - expression
                        type: object
                      type: array
                    rates:
                      description: Rates holds the list of limit rates for token-based
                        limiting
                      items:
                        description: Rate defines the actual rate limit that will
                          be used when there is a match
                        properties:
                          limit:
                            description: Limit defines the max value allowed for a
                              given period of time
                            type: integer
                          window:
                            description: Window defines the time period for which
                              the Limit specified above applies.
                            pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                            type: string
                        required:
                        - limit
                        - window
                        type: object
                      type: array
                    when:
                      description: |-
                        When holds a list of "limit-level" `Predicate`s for token-based conditions
                        Called also "soft" conditions as route selectors must also match
                      items:
                        description: Predicate defines one CEL expression that must
                          be evaluated to bool
                        properties:
                          predicate:
                            minLength: 1
                            type: string
                        required:
                        - predicate
                        type: object
                      type: array
                  type: object
                description: Limits holds the struct of token-based limits indexed
                  by a unique name
                type: object
              overrides:
                description: |-
                  Rules to apply as overrides. Override all policy rules lower in the hierarchy. Can be overridden by less specific policy overrides.
                  Use one of: defaults, overrides, or bare set of policy rules (implicit defaults).
                properties:
                  limits:
                    additionalProperties:
                      description: TokenLimit represents a complete token-based rate
                        limit configuration
                      properties:
                        counters:
                          description: Counters defines additional rate limit counters
                            based on CEL expressions which can reference well known
                            selectors
                          items:
                            properties:
                              expression:
                                description: |-
                                  Expression defines one CEL expression
                                  Expression can use well known attributes
                                  Attributes: https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                                  Well-known selectors: https://github.com/Kuadrant/architecture/blob/main/rfcs/0001-rlp-v2.md#well-known-selectors
                                  They are named by a dot-separated path (e.g. request.path)
                                  Example: "request.path" -> The path portion of the URL
                                minLength: 1
                                type: string
                            required:
                            - expression
                            type: object
                          type: array
                        rates:
                          description: Rates holds the list of limit rates for token-based
                            limiting
                          items:
                            description: Rate defines the actual rate limit that will
                              be used when there is a match
                            properties:
                              limit:
                                description: Limit defines the max value allowed for
                                  a given period of time
                                type: integer
                              window:
                                description: Window defines the time period for which
                                  the Limit specified above applies.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                            required:
                            - limit
                            - window
                            type: object
                          type: array
                        when:
                          description: |-
                            When holds a list of "limit-level" `Predicate`s for token-based conditions
                            Called also "soft" conditions as route selectors must also match
                          items:
                            description: Predicate defines one CEL expression that
                              must be evaluated to bool
                            properties:
                              predicate:
                                minLength: 1
                                type: string
                            required:
                            - predicate
                            type: object
                          type: array
                      type: object
                    description: Limits holds the struct of token-based limits indexed
                      by a unique name
                    type: object
                  strategy:
                    default: atomic
                    description: Strategy defines the merge strategy to apply when
                      merging this policy with other policies.
                    enum:
                    - atomic
                    - merge
                    type: string
                  when:
                    description: |-
                      Overall conditions for the policy to be enforced.
                      If omitted, the policy will be enforced at all requests to the protected routes.
                      If present, all conditions must match for the policy to be enforced.
                    items:
                      description: Predicate defines one CEL expression that must
                        be evaluated to bool
                      properties:
                        predicate:
                          minLength: 1
                          type: string
                      required:
                      - predicate
                      type: object
                    type: array
                type: object
              targetRef:
                description: Reference to the object to which this policy applies.
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
                x-kubernetes-validations:
                - message: Invalid targetRef.group. The only supported value is 'gateway.networking.k8s.io'
                  rule: self.group == 'gateway.networking.k8s.io'
                - message: Invalid targetRef.kind. The only supported values are 'HTTPRoute'
                    and 'Gateway'
                  rule: self.kind == 'HTTPRoute' || self.kind == 'Gateway'
              when:
                description: |-
                  Overall conditions for the policy to be enforced.
                  If omitted, the policy will be enforced at all requests to the protected routes.
                  If present, all conditions must match for the policy to be enforced.
                items:
                  description: Predicate defines one CEL expression that must be evaluated
                    to bool
                  properties:
                    predicate:
                      minLength: 1
                      type: string
                  required:
                  - predicate
                  type: object
                type: array
            required:
            - targetRef
            type: object
            x-kubernetes-validations:
            - message: Implicit and explicit defaults are mutually exclusive
              rule: '!(has(self.defaults) && has(self.limits))'
            - message: Overrides and explicit defaults are mutually exclusive
              rule: '!(has(self.defaults) && has(self.overrides))'
            - message: Overrides and implicit defaults are mutually exclusive
              rule: '!(has(self.overrides) && has(self.limits))'
            - message: At least one spec.limits must be defined
              rule: '!(has(self.overrides) || has(self.defaults)) ? has(self.limits)
                && size(self.limits) > 0 : true'
            - message: At least one spec.overrides.limits must be defined
              rule: 'has(self.overrides) ? has(self.overrides.limits) && size(self.overrides.limits)
                > 0 : true'
            - message: At least one spec.defaults.limits must be defined
              rule: 'has(self.defaults) ? has(self.defaults.limits) && size(self.defaults.limits)
                > 0 : true'
          status:
            properties:
              conditions:
                description: |-
                  Represents the observations of a foo's current state.
                  Known .status.conditions.type are: "Available"
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: ObservedGeneration reflects the generation of the most
                  recently observed spec.
                format: int64
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    app.kubernetes.io/managed-by: helm
    app.kubernetes.io/name: developer-portal-controller
  name: developer-portal-controller-manager
  namespace: '{{ .Release.Namespace }}'
---
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: kuadrant-operator-controller-manager
  namespace: '{{ .Release.Namespace }}'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    app.kubernetes.io/managed-by: helm
    app.kubernetes.io/name: developer-portal-controller
  name: developer-portal-leader-election-role
  namespace: '{{ .Release.Namespace }}'
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - coordination.k8s.io
  resources:
  - leases
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - patch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: kuadrant-operator-leader-election-role
  namespace: '{{ .Release.Namespace }}'
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - coordination.k8s.io
  resources:
  - leases
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - patch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app.kubernetes.io/managed-by: helm
  name: developer-portal-manager-role
rules:
- apiGroups:
  - ""
  resources:
  - secrets
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - devportal.kuadrant.io
  resources:
  - apikeys
  - apiproducts
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - devportal.kuadrant.io
  resources:
  - apikeys/finalizers
  - apiproducts/finalizers
  verbs:
  - update
- apiGroups:
  - devportal.kuadrant.io
  resources:
  - apikeys/status
  - apiproducts/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - extensions.kuadrant.io
  resources:
  - planpolicies
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - extensions.kuadrant.io
  resources:
  - planpolicies/status
  verbs:
  - get
- apiGroups:
  - gateway.networking.k8s.io
  resources:
  - httproutes
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - gateway.networking.k8s.io
  resources:
  - httproutes/status
  verbs:
  - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: kuadrant-operator-manager-role
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  - leases
  - serviceaccounts
  - services
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - patch
- apiGroups:
  - ""
  resources:
  - namespaces
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - apps
  resources:
  - deployments
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - authorino.kuadrant.io
  resources:
  - authconfigs
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - cert-manager.io
  resources:
  - certificates
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - cert-manager.io
  resources:
  - clusterissuers
  - issuers
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - config.openshift.io
  resources:
  - clusterversions
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - console.openshift.io
  resources:
  - consoleplugins
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - coordination.k8s.io
  resources:
  - configmaps
  - leases
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - extensions.istio.io
  resources:
  - wasmplugins
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - extensions.kuadrant.io
  resources:
  - oidcpolicies
  - planpolicies
  - telemetrypolicies
  verbs:
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - extensions.kuadrant.io
  resources:
  - oidcpolicies/finalizers
  - planpolicies/finalizers
  - telemetrypolicies/finalizers
  verbs:
  - update
- apiGroups:
  - extensions.kuadrant.io
  resources:
  - oidcpolicies/status
  - planpolicies/status
  - telemetrypolicies/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - gateway.envoyproxy.io
  resources:
  - envoyextensionpolicies
  - envoypatchpolicies
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - gateway.networking.k8s.io
  resources:
  - gatewayclasses
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - gateway.networking.k8s.io
  resources:
  - gateways
  verbs:
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - gateway.networking.k8s.io
  resources:
  - gateways/finalizers
  verbs:
  - update
- apiGroups:
  - gateway.networking.k8s.io
  resources:
  - gateways/status
  - httproutes/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - gateway.networking.k8s.io
  resources:
  - httproutes
  verbs:
  - create
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - kuadrant.io
  resources:
  - authpolicies
  verbs:
  - create
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - kuadrant.io
  resources:
  - authpolicies/finalizers
  - dnspolicies/finalizers
  - kuadrants/finalizers
  - ratelimitpolicies/finalizers
  - tlspolicies/finalizers
  - tokenratelimitpolicies/finalizers
  verbs:
  - update
- apiGroups:
  - kuadrant.io
  resources:
  - authpolicies/status
  - dnspolicies/status
  - kuadrants/status
  - ratelimitpolicies/status
  - tlspolicies/status
  - tokenratelimitpolicies/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - kuadrant.io
  resources:
  - dnspolicies
  - kuadrants
  - tlspolicies
  - tokenratelimitpolicies
  verbs:
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - kuadrant.io
  resources:
  - dnsrecords
  - ratelimitpolicies
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - kuadrant.io
  resources:
  - dnsrecords/status
  verbs:
  - get
- apiGroups:
  - limitador.kuadrant.io
  resources:
  - limitadors
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - monitoring.coreos.com
  resources:
  - podmonitors
  - servicemonitors
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - networking.istio.io
  resources:
  - envoyfilters
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - operator.authorino.kuadrant.io
  resources:
  - authorinos
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - security.istio.io
  resources:
  - peerauthentications
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    app.kubernetes.io/managed-by: helm
    app.kubernetes.io/name: developer-portal-controller
  name: developer-portal-leader-election-rolebinding
  namespace: '{{ .Release.Namespace }}'
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: developer-portal-leader-election-role
subjects:
- kind: ServiceAccount
  name: developer-portal-controller-manager
  namespace: '{{ .Release.Namespace }}'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: kuadrant-operator-leader-election-rolebinding
  namespace: '{{ .Release.Namespace }}'
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: kuadrant-operator-leader-election-role
subjects:
- kind: ServiceAccount
  name: kuadrant-operator-controller-manager
  namespace: '{{ .Release.Namespace }}'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app.kubernetes.io/managed-by: helm
    app.kubernetes.io/name: developer-portal-controller
  name: developer-portal-manager-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: developer-portal-manager-role
subjects:
- kind: ServiceAccount
  name: developer-portal-controller-manager
  namespace: '{{ .Release.Namespace }}'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
  name: kuadrant-operator-manager-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: kuadrant-operator-manager-role
subjects:
- kind: ServiceAccount
  name: kuadrant-operator-controller-manager
  namespace: '{{ .Release.Namespace }}'
---
apiVersion: v1
data:
  "4.16": quay.io/kuadrant/console-plugin:v0.1.5
  "4.17": quay.io/kuadrant/console-plugin:v0.1.5
  "4.18": quay.io/kuadrant/console-plugin:v0.1.5
  "4.19": quay.io/kuadrant/console-plugin:v0.1.5
  "4.20": quay.io/kuadrant/console-plugin:latest
  default: quay.io/kuadrant/console-plugin:latest
kind: ConfigMap
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    kuadrant-operator-console-plugin-images: "true"
  name: kuadrant-operator-console-plugin-images
  namespace: '{{ .Release.Namespace }}'
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    control-plane: controller-manager
  name: kuadrant-operator-metrics
  namespace: '{{ .Release.Namespace }}'
spec:
  ports:
  - name: metrics
    port: 8080
    targetPort: metrics
  selector:
    app: kuadrant
    control-plane: controller-manager
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: kuadrant
    app.kubernetes.io/managed-by: helm
    control-plane: controller-manager
  name: kuadrant-operator-controller-manager
  namespace: '{{ .Release.Namespace }}'
spec:
  replicas: 1
  selector:
    matchLabels:
      app: kuadrant
      control-plane: controller-manager
  template:
    metadata:
      labels:
        app: kuadrant
        app.kubernetes.io/managed-by: helm
        control-plane: controller-manager
    spec:
      containers:
      - args:
        - --leader-elect
        command:
        - /manager
        env:
        - name: EXTENSIONS_DIR
          value: /extensions
        - name: RELATED_IMAGE_WASMSHIM
          value: oci://quay.io/kuadrant/wasm-shim:latest
        - name: RELATED_IMAGE_DEVELOPERPORTAL
          value: quay.io/kuadrant/developer-portal-controller:latest
        - name: OPERATOR_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        image: quay.io/kuadrant/kuadrant-operator:latest
        livenessProbe:
          httpGet:
            path: /healthz
            port: 8081
          initialDelaySeconds: 15
          periodSeconds: 20
        name: manager
        ports:
        - containerPort: 8080
          name: metrics
        readinessProbe:
          httpGet:
            path: /readyz
            port: 8081
          initialDelaySeconds: 5
          periodSeconds: 10
        resources:
          limits:
            cpu: 200m
            memory: 300Mi
          requests:
            cpu: 200m
            memory: 200Mi
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          readOnlyRootFilesystem: true
        volumeMounts:
        - mountPath: /tmp/kuadrant
          name: extensions-socket-volume
      securityContext:
        runAsNonRoot: true
      serviceAccountName: kuadrant-operator-controller-manager
      terminationGracePeriodSeconds: 10
      volumes:
      - emptyDir: {}
        name: extensions-socket-volume
